

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Channel Models &mdash; NeoRadium 0.3.1 Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/neoradium.css?v=73ab78ac" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=4621528c"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Random Number Generator" href="Random.html" />
    <link rel="prev" title="Antenna" href="Antenna.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            NeoRadium 0.3.1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">What is NeoRadium?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Playground/Playground.html">Playground</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Carrier.html">Carriers and Bandwidth Parts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Grid.html">Resource Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="Waveform.html">Waveform</a></li>
<li class="toctree-l1"><a class="reference internal" href="Modulation.html">Modulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="RefSig.html">Reference Signals</a></li>
<li class="toctree-l1"><a class="reference internal" href="PhyChannels.html">Physical Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChanCode.html">Channel Coding</a></li>
<li class="toctree-l1"><a class="reference internal" href="Antenna.html">Antenna</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Channel Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-neoradium.channelmodel">Channel Model Base Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel"><code class="docutils literal notranslate"><span class="pre">ChannelModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel.print"><code class="docutils literal notranslate"><span class="pre">ChannelModel.print()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel.restart"><code class="docutils literal notranslate"><span class="pre">ChannelModel.restart()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel.goNext"><code class="docutils literal notranslate"><span class="pre">ChannelModel.goNext()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel.getMaxDelay"><code class="docutils literal notranslate"><span class="pre">ChannelModel.getMaxDelay()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel.applyToGrid"><code class="docutils literal notranslate"><span class="pre">ChannelModel.applyToGrid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel.getChannelMatrix"><code class="docutils literal notranslate"><span class="pre">ChannelModel.getChannelMatrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel.applyToSignal"><code class="docutils literal notranslate"><span class="pre">ChannelModel.applyToSignal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.channelmodel.ChannelModel.getChannelGains"><code class="docutils literal notranslate"><span class="pre">ChannelModel.getChannelGains()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-neoradium.cdl">CDL Channel Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.cdl.CdlChannel"><code class="docutils literal notranslate"><span class="pre">CdlChannel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.cdl.CdlChannel.print"><code class="docutils literal notranslate"><span class="pre">CdlChannel.print()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.cdl.CdlChannel.restart"><code class="docutils literal notranslate"><span class="pre">CdlChannel.restart()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.cdl.CdlChannel.getChanGen"><code class="docutils literal notranslate"><span class="pre">CdlChannel.getChanGen()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-neoradium.tdl">TDL Channel Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.tdl.TdlChannel"><code class="docutils literal notranslate"><span class="pre">TdlChannel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.tdl.TdlChannel.print"><code class="docutils literal notranslate"><span class="pre">TdlChannel.print()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.tdl.TdlChannel.restart"><code class="docutils literal notranslate"><span class="pre">TdlChannel.restart()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-neoradium.trjchan">Trajectory Channel Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.trjchan.TrjPoint"><code class="docutils literal notranslate"><span class="pre">TrjPoint</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.TrjPoint.print"><code class="docutils literal notranslate"><span class="pre">TrjPoint.print()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.trjchan.Trajectory"><code class="docutils literal notranslate"><span class="pre">Trajectory</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.Trajectory.restart"><code class="docutils literal notranslate"><span class="pre">Trajectory.restart()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.Trajectory.goNext"><code class="docutils literal notranslate"><span class="pre">Trajectory.goNext()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.Trajectory.draw"><code class="docutils literal notranslate"><span class="pre">Trajectory.draw()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.Trajectory.print"><code class="docutils literal notranslate"><span class="pre">Trajectory.print()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.trjchan.TrjChannel"><code class="docutils literal notranslate"><span class="pre">TrjChannel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.TrjChannel.restart"><code class="docutils literal notranslate"><span class="pre">TrjChannel.restart()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.TrjChannel.goNext"><code class="docutils literal notranslate"><span class="pre">TrjChannel.goNext()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.TrjChannel.print"><code class="docutils literal notranslate"><span class="pre">TrjChannel.print()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.TrjChannel.getPathGains"><code class="docutils literal notranslate"><span class="pre">TrjChannel.getPathGains()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.trjchan.TrjChannel.getChanSeqGen"><code class="docutils literal notranslate"><span class="pre">TrjChannel.getChanSeqGen()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Random.html">Random Number Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="DeepMIMO.html">DeepMIMO and UE Trajectories</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">NeoRadium 0.3.1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Channel Models</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/source/API/Channels.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="channel-models">
<h1>Channel Models<a class="headerlink" href="#channel-models" title="Link to this heading"></a></h1>
<p><strong>NeoRadium</strong> currently supports two stochastic channel models: Clustered Delay Line (CDL) and Tapped Delay
Line (TDL). These models are implemented as <a class="reference internal" href="#neoradium.cdl.CdlChannel" title="neoradium.cdl.CdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">CdlChannel</span></code></a> and
<a class="reference internal" href="#neoradium.tdl.TdlChannel" title="neoradium.tdl.TdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TdlChannel</span></code></a> classes based on <strong>3GPP TR 38.901</strong>. Additionally, <strong>NeoRadium</strong> provides the
<a class="reference internal" href="#neoradium.trjchan.TrjChannel" title="neoradium.trjchan.TrjChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjChannel</span></code></a> class, which is based on UE trajectories created using ray-tracing
scenarios. The deterministic aspects of the <a class="reference internal" href="#neoradium.trjchan.TrjChannel" title="neoradium.trjchan.TrjChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjChannel</span></code></a> class are primarily derived
from <strong>3GPP TR 38.901 Section 8.4</strong>. Furthermore, you can derive your own customized channel models from the
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel" title="neoradium.channelmodel.ChannelModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelModel</span></code></a> class, as explained below.</p>
<section id="module-neoradium.channelmodel">
<span id="channel-model-base-class"></span><h2>Channel Model Base Class<a class="headerlink" href="#module-neoradium.channelmodel" title="Link to this heading"></a></h2>
<p>This module serves as the foundation for channel models. Currently, <strong>NeoRadium</strong> supports three types of channel
models: CDL, TDL, and Trajectory-based channel models. Each model is derived from the <a class="reference internal" href="#neoradium.channelmodel.ChannelModel" title="neoradium.channelmodel.ChannelModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelModel</span></code></a>
class defined in this module. For more information about these subclasses, please refer to
<a class="reference internal" href="#neoradium.cdl.CdlChannel" title="neoradium.cdl.CdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">CdlChannel</span></code></a>, <a class="reference internal" href="#neoradium.tdl.TdlChannel" title="neoradium.tdl.TdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TdlChannel</span></code></a>,
or <a class="reference internal" href="#neoradium.trjchan.TrjChannel" title="neoradium.trjchan.TrjChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjChannel</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.channelmodel.</span></span><span class="sig-name descname"><span class="pre">ChannelModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bwp</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel" title="Link to this definition"></a></dt>
<dd><p>This is the base channel model class that handles higher level processing, such as creating Channel Impulse Response
(CIR) and channel matrices and applying the channel to a time-domain <a class="reference internal" href="Waveform.html#neoradium.waveform.Waveform" title="neoradium.waveform.Waveform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Waveform</span></code></a>
or a frequency-domain resource <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>.</p>
<p>Almost all interactions with channel models are done using the methods of this class. The derived classes mostly
implement the lower level processes such as how the channel multipath information is obtained or how MIMO antenna
arrays are processed in connection with the channel multipath properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bwp</strong> (<a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a>) – The bandwidth part object used by the channel model to create channel matrices.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>A set of optional arguments.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">normalizeGains<span class="colon">:</span></dt>
<dd class="field-odd"><p>A boolean flag. The default value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, indicating that the path gains
are normalized before they are applied to the signals.</p>
</dd>
<dt class="field-even">normalizeOutput<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean flag. The default value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, indicating that the gains are
normalized based on the number of receive antennas.</p>
</dd>
<dt class="field-odd">txDir<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string that represents the transmission direction, which can be either “Downlink” or
“Uplink”. By default, it is set to “Downlink”.</p>
</dd>
<dt class="field-even">filterLen<span class="colon">:</span></dt>
<dd class="field-even"><p>The length of the channel filter. The default is 16 samples.</p>
</dd>
<dt class="field-odd">delayQuantSize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The size of delay fraction quantization for the channel filter. The default is 64.</p>
</dd>
<dt class="field-even">stopBandAtten<span class="colon">:</span></dt>
<dd class="field-even"><p>The Stop-band attenuation value (in dB) used by the channel filter. The default is 80dB.</p>
</dd>
<dt class="field-odd">seed<span class="colon">:</span></dt>
<dd class="field-odd"><p>The seed used by the random functions in the channel model. Setting this to a fixed value ensures
that the channel model generates repeatable results. The default value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, indicating
that this channel model uses the <strong>NeoRadium</strong>’s <a class="reference internal" href="Random.html"><span class="doc">global random number generator</span></a>.</p>
</dd>
<dt class="field-even">dopplerShift<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum Doppler shift in Hertz. The default value is 40 Hertz, which corresponds to
a speed of approximately 10 kilometers per hour. A value of zero makes the channel model static.
For trajectory-based channel models, this value is automatically assigned based on the maximum
trajectory speed.</p>
</dd>
<dt class="field-odd">carrierFreq<span class="colon">:</span></dt>
<dd class="field-odd"><p>The carrier frequency of the channel model in hertz. The default is 3.5 GHz.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<p><strong>Other Properties:</strong></p>
<p>All of the parameters mentioned above are directly available. Here is a list of additional properties:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">coherenceTime<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Coherence_time_(communications_systems)">Coherence time</a>
of the channel model in seconds. This is calculated based on the <code class="docutils literal notranslate"><span class="pre">dopplerShift</span></code> parameter.</p>
</dd>
<dt class="field-even">sampleRate<span class="colon">:</span></dt>
<dd class="field-even"><p>The sample rate used by this channel model. For 3GPP standard, this is set to 30,720,000
samples per second.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this channel model object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> or </em><em>None</em>) – If specified, it is used as a title for the printed information. If <code class="docutils literal notranslate"><span class="pre">None</span></code> (default), the text
“Channel Model Properties:” is used for the title.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then this function returns the information in a text string.
Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel.restart">
<span class="sig-name descname"><span class="pre">restart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">restartRanGen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">applyToBwp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel.restart" title="Link to this definition"></a></dt>
<dd><p>Resets the state of this channel model to the initial state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>restartRanGen</strong> (<em>Boolean</em>) – If a <code class="docutils literal notranslate"><span class="pre">seed</span></code> was not provided to this channel model, this parameter is ignored. Otherwise, if
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the random number generator of this channel model is reset. If
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default), the random number generator is not reset. This means that
if <code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, for stochastic channel models, calling this function starts a new
sequence of channel instances, which differs from the sequence when the channel was instantiated.</p></li>
<li><p><strong>applyToBwp</strong> (<em>Boolean</em>) – If set to <cite>True</cite> (the default), this function restarts the <a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a>
associated with this channel model. Otherwise, the <a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a> state
remains unchanged.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel.goNext">
<span class="sig-name descname"><span class="pre">goNext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">applyToBwp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel.goNext" title="Link to this definition"></a></dt>
<dd><p>This method is called after each application of the channel to a signal to move to the next slot. It advances
the channel model’s internal variable that keeps track of the current time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>applyToBwp</strong> (<em>Boolean</em>) – If set to <cite>True</cite> (the default), this function advances the timing state of the
<a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a> associated with this channel model. Otherwise, the
<a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a> state remains unchanged.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel.getMaxDelay">
<span class="sig-name descname"><span class="pre">getMaxDelay</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel.getMaxDelay" title="Link to this definition"></a></dt>
<dd><p>Calculates and returns the maximum delay of this channel model in time-domain samples for the current slot.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The maximum delay of this channel model in number of time-domain samples for the current slot.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel.applyToGrid">
<span class="sig-name descname"><span class="pre">applyToGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel.applyToGrid" title="Link to this definition"></a></dt>
<dd><p>This function applies the channel model to the transmitted resource grid object specified by <code class="docutils literal notranslate"><span class="pre">grid</span></code> in
the frequency domain. It then returns the received resource grid in a new <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>
object. The function first calls the <a class="reference internal" href="#neoradium.channelmodel.ChannelModel.getChannelMatrix" title="neoradium.channelmodel.ChannelModel.getChannelMatrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getChannelMatrix()</span></code></a> method to obtain the channel
matrix. Subsequently, it invokes the <a class="reference internal" href="Grid.html#neoradium.grid.Grid.applyChannel" title="neoradium.grid.Grid.applyChannel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">applyChannel()</span></code></a> method of the
<a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> class to calculate the received resource grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>grid</strong> (<a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>) – The transmitted resource grid. An <code class="docutils literal notranslate"><span class="pre">Nt</span> <span class="pre">x</span> <span class="pre">L</span> <span class="pre">x</span> <span class="pre">K</span></code> <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> object, where
<code class="docutils literal notranslate"><span class="pre">Nt</span></code> represents the number of transmit antennas, <code class="docutils literal notranslate"><span class="pre">L</span></code> denotes the number of OFDM symbols, and <code class="docutils literal notranslate"><span class="pre">K</span></code> is
the number of subcarriers in the resource grid.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A resource grid containing the received signal. An <code class="docutils literal notranslate"><span class="pre">Nr</span> <span class="pre">x</span> <span class="pre">L</span> <span class="pre">x</span> <span class="pre">K</span></code> <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> object,
where <code class="docutils literal notranslate"><span class="pre">Nr</span></code> represents the number of receive antennas, <code class="docutils literal notranslate"><span class="pre">L</span></code> denotes the number of OFDM symbols, and
<code class="docutils literal notranslate"><span class="pre">K</span></code> is the number of subcarriers in the resource grid.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel.getChannelMatrix">
<span class="sig-name descname"><span class="pre">getChannelMatrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel.getChannelMatrix" title="Link to this definition"></a></dt>
<dd><p>This method calculates and returns the channel matrix at the current time. The channel matrix is a 4-D complex
NumPy array with dimensions <code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">x</span> <span class="pre">K</span> <span class="pre">x</span> <span class="pre">Nr</span> <span class="pre">x</span> <span class="pre">Nt</span></code>, where <code class="docutils literal notranslate"><span class="pre">L</span></code> represents the number of OFDM symbols, <code class="docutils literal notranslate"><span class="pre">K</span></code>
denotes the number of subcarriers, <code class="docutils literal notranslate"><span class="pre">Nr</span></code> is the number of receive antennas, and <code class="docutils literal notranslate"><span class="pre">Nt</span></code> indicates the number
of transmit antennas. Please refer to the notebook <a class="reference internal" href="../Playground/Notebooks/Channels/ChannelMatrix.html"><span class="doc">Channel Matrix</span></a> for
an example of using this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 4-D complex NumPy array with dimensions <code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">x</span> <span class="pre">K</span> <span class="pre">x</span> <span class="pre">Nr</span> <span class="pre">x</span> <span class="pre">Nt</span></code>, where <code class="docutils literal notranslate"><span class="pre">L</span></code> represents the number of
OFDM symbols, <code class="docutils literal notranslate"><span class="pre">K</span></code> denotes the number of subcarriers, <code class="docutils literal notranslate"><span class="pre">Nr</span></code> is the number of receive antennas, and
<code class="docutils literal notranslate"><span class="pre">Nt</span></code> indicates the number of transmit antennas.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>4-D complex numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel.applyToSignal">
<span class="sig-name descname"><span class="pre">applyToSignal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputSignal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel.applyToSignal" title="Link to this definition"></a></dt>
<dd><p>This method applies the channel model to the time-domain waveform specified by <code class="docutils literal notranslate"><span class="pre">inputSignal</span></code> and returns
another <a class="reference internal" href="Waveform.html#neoradium.waveform.Waveform" title="neoradium.waveform.Waveform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Waveform</span></code></a> object containing the received signal in time domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputSignal</strong> (<a class="reference internal" href="Waveform.html#neoradium.waveform.Waveform" title="neoradium.waveform.Waveform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Waveform</span></code></a>) – The transmitted time-domain waveform. An <code class="docutils literal notranslate"><span class="pre">Nt</span> <span class="pre">x</span> <span class="pre">Ns</span></code> <a class="reference internal" href="Waveform.html#neoradium.waveform.Waveform" title="neoradium.waveform.Waveform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Waveform</span></code></a> object,
where <code class="docutils literal notranslate"><span class="pre">Nt</span></code> represents the number of transmit antennas and <code class="docutils literal notranslate"><span class="pre">Ns</span></code> denotes the number of time samples in
the transmitted waveform.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="Waveform.html#neoradium.waveform.Waveform" title="neoradium.waveform.Waveform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Waveform</span></code></a> object containing the received signal. It is an <code class="docutils literal notranslate"><span class="pre">Nr</span> <span class="pre">x</span> <span class="pre">Ns</span></code>
<a class="reference internal" href="Waveform.html#neoradium.waveform.Waveform" title="neoradium.waveform.Waveform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Waveform</span></code></a> object where <code class="docutils literal notranslate"><span class="pre">Nr</span></code> denotes the number of receive antennas and
<code class="docutils literal notranslate"><span class="pre">Ns</span></code> represents the number of time samples in the received waveform.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="Waveform.html#neoradium.waveform.Waveform" title="neoradium.waveform.Waveform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Waveform</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.channelmodel.ChannelModel.getChannelGains">
<span class="sig-name descname"><span class="pre">getChannelGains</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.channelmodel.ChannelModel.getChannelGains" title="Link to this definition"></a></dt>
<dd><p>This function calculates the path gains for the current slot at the beginning of each symbol. The result
is a 4-D tensor of shape <code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">x</span> <span class="pre">Nr</span> <span class="pre">x</span> <span class="pre">Nt</span> <span class="pre">x</span> <span class="pre">Np</span></code>, where <code class="docutils literal notranslate"><span class="pre">L</span></code> represents the number of symbols per slot,
<code class="docutils literal notranslate"><span class="pre">Nr</span></code> and <code class="docutils literal notranslate"><span class="pre">Nt</span></code> indicate the number of receiver and transmitter antennas, respectively, and <code class="docutils literal notranslate"><span class="pre">Np</span></code> denotes
the number of paths. The path gains are normalized based on the <code class="docutils literal notranslate"><span class="pre">normalizeOutput</span></code> and <code class="docutils literal notranslate"><span class="pre">normalizeGains</span></code>
values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The path gains as a numpy array of shape <code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">x</span> <span class="pre">Nr</span> <span class="pre">x</span> <span class="pre">Nt</span> <span class="pre">x</span> <span class="pre">Np</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>4-D complex numpy array</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="module-neoradium.cdl">
<span id="cdl-channel-model"></span><h2>CDL Channel Model<a class="headerlink" href="#module-neoradium.cdl" title="Link to this heading"></a></h2>
<p>This module implements the <a class="reference internal" href="#neoradium.cdl.CdlChannel" title="neoradium.cdl.CdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">CdlChannel</span></code></a> class which encapsulates the functionality of the
Clustered Delay Line (CDL) channel model.</p>
<dl class="py class">
<dt class="sig sig-object py" id="neoradium.cdl.CdlChannel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.cdl.</span></span><span class="sig-name descname"><span class="pre">CdlChannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bwp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'A'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.cdl.CdlChannel" title="Link to this definition"></a></dt>
<dd><p>This class implements the Clustered Delay Line (CDL) channel model based on <strong>3GPP TR 38.901</strong>. It is derived
from the <a class="reference internal" href="#neoradium.channelmodel.ChannelModel" title="neoradium.channelmodel.ChannelModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelModel</span></code></a> class.</p>
<p>All of the API functions used in typical use cases are explained in the documentation of the
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel" title="neoradium.channelmodel.ChannelModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelModel</span></code></a> class.</p>
<p>The typical use case involves instantiating a <a class="reference internal" href="#neoradium.cdl.CdlChannel" title="neoradium.cdl.CdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">CdlChannel</span></code></a> object and then calling functions such as
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.getChannelMatrix" title="neoradium.channelmodel.ChannelModel.getChannelMatrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getChannelMatrix()</span></code></a>,
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.applyToSignal" title="neoradium.channelmodel.ChannelModel.applyToSignal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">applyToSignal()</span></code></a>,
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.applyToGrid" title="neoradium.channelmodel.ChannelModel.applyToGrid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">applyToGrid()</span></code></a>, etc. Please refer to the notebook
<a class="reference internal" href="../Playground/Notebooks/Channels/ChannelMatrix.html"><span class="doc">Channel Matrix</span></a> for an example of using this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bwp</strong> (<a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a>) – The bandwidth part object used by the channel model to create channel matrices.</p></li>
<li><p><strong>profile</strong> (<em>str</em><em> or </em><em>None</em>) – The CDL profile. It can be one of ‘A’, ‘B’, ‘C’, ‘D’, ‘E’, or <code class="docutils literal notranslate"><span class="pre">None</span></code>. See <strong>3GPP TR 38.90, Section
7.7.1</strong> for more information. Use <code class="docutils literal notranslate"><span class="pre">None</span></code> to indicate a customized version of CDL channel (See
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a>).</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>Here’s a list of additional optional parameters that can be used to further customize this channel model:</p>
<blockquote>
<div><dl class="field-list">
<dt class="field-odd">normalizeGains<span class="colon">:</span></dt>
<dd class="field-odd"><p>A boolean flag. The default value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, indicating that the path gains
are normalized before they are applied to the signals.</p>
</dd>
<dt class="field-even">normalizeOutput<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean flag. The default value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, indicating that the gains are
normalized based on the number of receive antennas.</p>
</dd>
<dt class="field-odd">txDir<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string that represents the transmission direction, which can be either “Downlink” or
“Uplink”. By default, it is set to “Downlink”.</p>
</dd>
<dt class="field-even">filterLen<span class="colon">:</span></dt>
<dd class="field-even"><p>The length of the channel filter. The default is 16 samples.</p>
</dd>
<dt class="field-odd">delayQuantSize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The size of delay fraction quantization for the channel filter. The default is 64.</p>
</dd>
<dt class="field-even">stopBandAtten<span class="colon">:</span></dt>
<dd class="field-even"><p>The stop-band attenuation (in dB) used by the channel filter. The default is 80 dB.</p>
</dd>
<dt class="field-odd">seed<span class="colon">:</span></dt>
<dd class="field-odd"><p>The seed used by the random functions in the channel model. Setting this to a fixed value ensures
that the channel model generates repeatable results. The default value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, indicating
that this channel model uses the <strong>NeoRadium</strong>’s <a class="reference internal" href="Random.html"><span class="doc">global random generator</span></a>.</p>
</dd>
<dt class="field-even">dopplerShift<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum Doppler shift in Hertz. The default value is 40 Hertz, which corresponds to
a speed of approximately 10 kilometers per hour. A value of zero makes the channel model static.
For trajectory-based channel models, this value is automatically assigned based on the maximum
trajectory speed.</p>
</dd>
<dt class="field-odd">carrierFreq<span class="colon">:</span></dt>
<dd class="field-odd"><p>The carrier frequency of the channel model in Hz. The default is 3.5 GHz.</p>
</dd>
<dt class="field-even">delaySpread<span class="colon">:</span></dt>
<dd class="field-even"><p>The delay spread in nanoseconds. The default is 30 ns. It can also be a string
containing one of the values in following table (See <strong>3GPP TR 38.901, table 7.7.3-1</strong>)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delay Spread str</p></th>
<th class="head"><p>Delay spread</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>’VeryShort’</p></td>
<td><p>10 ns</p></td>
</tr>
<tr class="row-odd"><td><p>’Short’</p></td>
<td><p>30 ns</p></td>
</tr>
<tr class="row-even"><td><p>’Nominal’</p></td>
<td><p>100 ns</p></td>
</tr>
<tr class="row-odd"><td><p>’Long’</p></td>
<td><p>300 ns</p></td>
</tr>
<tr class="row-even"><td><p>’VeryLong’</p></td>
<td><p>1000 ns</p></td>
</tr>
</tbody>
</table>
</dd>
<dt class="field-odd">ueDirAZ<span class="colon">:</span></dt>
<dd class="field-odd"><p>This is a list of two angles for the Azimuth and Zenith of the UE’s direction of movement
in degrees. The default value is [0, 90], which indicates movement along the x-axis. In the current
version, the base station is assumed to be stationary.</p>
</dd>
<dt class="field-even">txAntenna<span class="colon">:</span></dt>
<dd class="field-even"><p>The transmitter antenna, which is an instance of
<a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaElement" title="neoradium.antenna.AntennaElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaElement</span></code></a>, <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaPanel" title="neoradium.antenna.AntennaPanel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaPanel</span></code></a>,
or <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaArray" title="neoradium.antenna.AntennaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaArray</span></code></a> class. If not specified, a single antenna element is
automatically created by default.</p>
</dd>
<dt class="field-odd">rxAntenna<span class="colon">:</span></dt>
<dd class="field-odd"><p>The receiver antenna, which is an instance of
<a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaElement" title="neoradium.antenna.AntennaElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaElement</span></code></a>, <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaPanel" title="neoradium.antenna.AntennaPanel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaPanel</span></code></a>,
or <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaArray" title="neoradium.antenna.AntennaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaArray</span></code></a> class. If not specified, a single antenna element is
automatically created by default.</p>
</dd>
<dt class="field-even">txOrientation<span class="colon">:</span></dt>
<dd class="field-even"><p>The orientation of the transmitter antenna. This is a list of three angle values in
degrees: bearing angle (math:<cite>alpha</cite>), downtilt angle (math:<cite>beta</cite>), and slant angle
(math:<cite>gamma</cite>). The default orientation is [0,0,0]. For more information, please refer to
<strong>3GPP TR 38.901, Section 7.1.3</strong>.</p>
</dd>
<dt class="field-odd">rxOrientation<span class="colon">:</span></dt>
<dd class="field-odd"><p>The orientation of receiver antenna. This is a list of three angle values in
degrees: bearing angle (math:<cite>alpha</cite>), downtilt angle (math:<cite>beta</cite>), and slant angle
(math:<cite>gamma</cite>). The default orientation is [180,0,0]. For more information, please refer to
<strong>3GPP TR 38.901, Section 7.1.3</strong>.</p>
</dd>
<dt class="field-even">kFactor<span class="colon">:</span></dt>
<dd class="field-even"><p>The K-Factor (in dB) used for scaling. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>. If not specified
(<code class="docutils literal notranslate"><span class="pre">kFactor=None</span></code>), K-factor scaling is disabled.</p>
</dd>
<dt class="field-odd">xPolPower<span class="colon">:</span></dt>
<dd class="field-odd"><p>The cross-polarization Power in dB. The default is 10 dB. For more details please refer
to “Step 3” in <strong>3GPP TR 38.901, Section 7.7.1</strong>.</p>
</dd>
<dt class="field-even">angleScaling<span class="colon">:</span></dt>
<dd class="field-even"><p>The <a class="reference internal" href="#anglescaling"><span class="std std-ref">Angle Scaling</span></a> parameters. If specified, it must be a tuple of
2 numpy arrays.</p>
<p>The first item specifies the mean values for angle scaling. It’s a 1-D NumPy array containing
four values for: the <em>Azimuth angle of Departure</em>, <em>Azimuth angle of Arrival</em>, <em>Zenith angle of
Departure</em>, and <em>Zenith angle of Arrival</em>.</p>
<p>The second item specifies the RMS angle spread values. It is a 1-D numpy array containing four RMS
values for: the <em>Azimuth angle of Departure</em>, <em>Azimuth angle of Arrival</em>, <em>Zenith angle of
Departure</em>, and <em>Zenith angle of Arrival</em>. For more information, please refer to
<a class="reference internal" href="#anglescaling"><span class="std std-ref">Angle Scaling</span></a> below.</p>
<p>If this value is set to <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), the <em>Angle Scaling</em> is disabled.</p>
</dd>
<dt class="field-odd">pathDelays<span class="colon">:</span></dt>
<dd class="field-odd"><p>Use this parameter to customize or override the default path delays, which are set
based on the CDL channel model as defined in <strong>3GPP TR 38.901</strong>. In most use cases, you don’t
need to specify this parameter. For more information, see
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below.</p>
</dd>
<dt class="field-even">pathPowers<span class="colon">:</span></dt>
<dd class="field-even"><p>Use this parameter to customize or override the path power settings, which are set by
default based on the CDL channel model as defined in <strong>3GPP TR 38.901</strong>. You don’t need to specify
this parameter for most use cases. For more information, refer to
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below.</p>
</dd>
<dt class="field-odd">aods<span class="colon">:</span></dt>
<dd class="field-odd"><p>Use this parameter to customize or override the Azimuth angles of Departure, which are set
by default based on the CDL channel model as defined in <strong>3GPP TR 38.901</strong>. You don’t need to
specify this parameter for most use cases. For more information, see
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below.</p>
</dd>
<dt class="field-even">aoas<span class="colon">:</span></dt>
<dd class="field-even"><p>Use this parameter to customize or override the Azimuth angles of Arrival, which are set by
default based on the CDL channel model as defined in <strong>3GPP TR 38.901</strong>. You don’t need to specify
this parameter for most use cases. For more information, see
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below.</p>
</dd>
<dt class="field-odd">zods<span class="colon">:</span></dt>
<dd class="field-odd"><p>Use this parameter to customize or override the Zenith angles of Departure, which are set
by default based on the CDL channel model as defined in <strong>3GPP TR 38.901</strong>. You don’t need to
specify this parameter for most use cases. For more information, see
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below.</p>
</dd>
<dt class="field-even">zoas<span class="colon">:</span></dt>
<dd class="field-even"><p>Use this parameter to customize or override the Zenith angles of Arrival, which are set by
default based on the CDL channel model as defined in <strong>3GPP TR 38.901</strong>. You don’t need to specify
this parameter for most use cases. For more information, see
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below.</p>
</dd>
<dt class="field-odd">angleSpreads<span class="colon">:</span></dt>
<dd class="field-odd"><p>Use this parameter to customize or override the RMS Angle spread (in degrees) used to
normalize angles. This parameter specifies four values corresponding to the <em>Azimuth angle of
Departure</em>, <em>Azimuth angle of Arrival</em>, <em>Zenith angle of Departure</em>, and <em>Zenith angle of Arrival</em>.
By default, these values are set based on the CDL channel model as defined in <strong>3GPP TR 38.901</strong>.
You don’t need to specify this parameter for most use cases. For more information, see
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below.</p>
<p>Please note that this should not be confused with angle spread values used for angle scaling (See
<code class="docutils literal notranslate"><span class="pre">angleScaling</span></code> above).</p>
</dd>
<dt class="field-even">hasLos<span class="colon">:</span></dt>
<dd class="field-even"><p>Use this parameter to customize or override the <code class="docutils literal notranslate"><span class="pre">hasLos</span></code> property of this channel model.
By default, this property is set based on the CDL channel model as defined in <strong>3GPP TR 38.901</strong>.
You don’t need to specify this parameter for most use cases. For more information, see
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below.</p>
</dd>
<dt class="field-odd">kFactorLos<span class="colon">:</span></dt>
<dd class="field-odd"><p>Use this parameter when customizing the CDL model. It represents the K-Factor ratio
(in dB) for the LOS (Line of Sight) cluster (the first cluster). You don’t need to specify this
parameter for most use cases. For more information, refer to
<a class="reference internal" href="#customizingcdl"><span class="std std-ref">Customizing CDL Model</span></a> below. By default, when customizing the CDL model,
this value is set to the difference in path powers (in dB) between the first and second clusters.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All angle values provided to this class are in degrees. However, internally, the class uses
radian values for all calculations. Therefore, when you access any of the angle values, such as <code class="docutils literal notranslate"><span class="pre">aods</span></code>,
<code class="docutils literal notranslate"><span class="pre">aoas</span></code>, <code class="docutils literal notranslate"><span class="pre">zods</span></code>, and <code class="docutils literal notranslate"><span class="pre">zoas</span></code>, remember that they are in radians.</p>
</div>
<p><strong>Other Properties:</strong></p>
<p>All of the parameters mentioned above are directly available. Here is a list of additional properties:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">coherenceTime<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Coherence_time_(communications_systems)">Coherence time</a>
of the channel model in seconds. This is calculated based on the <code class="docutils literal notranslate"><span class="pre">dopplerShift</span></code> parameter.</p>
</dd>
<dt class="field-even">sampleRate<span class="colon">:</span></dt>
<dd class="field-even"><p>The sample rate used by this channel model. For 3GPP standard, this is set to 30,720,000
samples per second.</p>
</dd>
<dt class="field-odd">nrNt<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple of the form <code class="docutils literal notranslate"><span class="pre">(nr,nt)</span></code>, where <code class="docutils literal notranslate"><span class="pre">nr</span></code> and <code class="docutils literal notranslate"><span class="pre">nt</span></code> are the number of receiver and transmitter
antennas elements correspondingly.</p>
</dd>
<dt class="field-even">rayCoupling<span class="colon">:</span></dt>
<dd class="field-even"><p>This property is used internally for ray coupling. See <strong>Step 2 in 3GPP TR 38.901, Section
7.7.1</strong> for more details.</p>
</dd>
<dt class="field-odd">initialPhases<span class="colon">:</span></dt>
<dd class="field-odd"><p>The random initial phases used when creating channel gains. See <strong>Step 10 in 3GPP
TR 38.901, Section 7.5</strong>  for more details.</p>
</dd>
</dl>
</div></blockquote>
<p id="anglescaling"><strong>Angle Scaling:</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">angleScaling</span></code> is set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, angle scaling is disabled. Otherwise, it is applied to all angles of
arrival and departure for all clusters, as per <strong>3GPP TR 38.901, Section 7.7.5.1 and Annex A</strong>.</p>
<p id="customizingcdl"><strong>Customizing CDL Model:</strong></p>
<p>There are two different ways to customize the CDL model:</p>
<ol class="loweralpha">
<li><p>You can select one of the predefined CDL profiles (A, B, C, D, or E) and then modify the model’s parameters
by providing additional information. For instance, you can choose the CDL-B model and override the standard
path delays by specifying your own path delays.</p></li>
<li><p>You can also create your own model entirely from scratch. Initially, pass <code class="docutils literal notranslate"><span class="pre">None</span></code> for the <code class="docutils literal notranslate"><span class="pre">profile</span></code>
parameter and then specify all the channel model parameters. Please note that in this case, you
<strong>must</strong> specify at least the following parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>pathDelays</p></li>
<li><p>pathPowers</p></li>
<li><p>aods</p></li>
<li><p>aoas</p></li>
<li><p>zods</p></li>
<li><p>zoas</p></li>
<li><p>hasLos</p></li>
</ul>
</div></blockquote>
<p>You can also optionally specify the following values:</p>
<blockquote>
<div><ul class="simple">
<li><p>angleSpreads (defaults to [4.0, 10.0, 2.0, 2.0] if not specified)</p></li>
<li><p>kFactorLos (defaults to <code class="docutils literal notranslate"><span class="pre">pathPowers[0]-pathPowers[1]</span></code>)</p></li>
</ul>
</div></blockquote>
<p>Also note that if your channel model contains a LOS cluster, it <strong>must</strong> be the first cluster in the lists,
and the <code class="docutils literal notranslate"><span class="pre">hasLos</span></code> parameter should be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</li>
</ol>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.cdl.CdlChannel.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.cdl.CdlChannel.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this CDL channel model object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> or </em><em>None</em>) – If specified, it serves as the title for the printed information. If <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), an
automatic title is generated based on the channel model parameters.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then this function returns the information in a text string.
Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.cdl.CdlChannel.restart">
<span class="sig-name descname"><span class="pre">restart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">restartRanGen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">applyToBwp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.cdl.CdlChannel.restart" title="Link to this definition"></a></dt>
<dd><p>This method first re-initializes the random object if a <code class="docutils literal notranslate"><span class="pre">seed</span></code> was provided to this channel model and the
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. It then randomly re-initializes the ray coupling and initial
phases and calls the base class <a class="reference internal" href="#neoradium.channelmodel.ChannelModel.restart" title="neoradium.channelmodel.ChannelModel.restart"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>restartRanGen</strong> (<em>Boolean</em>) – If a <code class="docutils literal notranslate"><span class="pre">seed</span></code> was not provided to this channel model, this parameter is ignored. Otherwise, if
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, this channel model’s random generator is reset and if
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> (default), the random generator is not reset. This means if
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, calling this function starts a new sequence of channel instances,
which differs from the sequence when the channel was instantiated.</p></li>
<li><p><strong>applyToBwp</strong> (<em>Boolean</em>) – If set to <cite>True</cite> (the default), this function restarts the <a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a>
associated with this channel model. Otherwise, the <a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a> state
remains unchanged.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.cdl.CdlChannel.getChanGen">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getChanGen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numChannels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bwp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ABCDE'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delaySpread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">500)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ueSpeed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">70)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ueDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">360)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.cdl.CdlChannel.getChanGen" title="Link to this definition"></a></dt>
<dd><p>Returns a generator object that can generate CDL channel matrices based on the given parameters and criteria.</p>
<p>Refer to the notebook <a class="reference internal" href="../Playground/Notebooks/Channels/CdlChannelDataset.html"><span class="doc">Creating random CDL channels for a dataset</span></a> for an example of
using this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numChannels</strong> (<em>int</em>) – The number of channel matrices generated by the returned generator.</p></li>
<li><p><strong>bwp</strong> (<a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a>) – The bandwidth part object used by the returned generator to construct channel matrices.</p></li>
<li><p><strong>profiles</strong> (<em>str</em>) – A string containing a combination of upper case letters ‘A’, ‘B’, ‘C’, ‘D’, and ‘E’. For example the
sting “ACE”, means the CDL profiles ‘A’, ‘C’, and ‘E’ are considered when creating the channel matrices.
The default is “ABCDE”, which means all CDL profiles are included.</p></li>
<li><p><strong>delaySpread</strong> (<em>float</em><em>, </em><em>tuple</em><em>, or </em><em>list</em>) – <p>Specifies the delay spread in nanoseconds. It can be one of the following:</p>
<blockquote>
<div><ul>
<li><p>If it is a tuple of the form <code class="docutils literal notranslate"><span class="pre">(dsMin,</span> <span class="pre">dsMax)</span></code>, a random value is uniformly sampled between
<code class="docutils literal notranslate"><span class="pre">dsMin</span></code> and <code class="docutils literal notranslate"><span class="pre">dsMax</span></code> for each channel matrix.</p></li>
<li><p>If it is a list of the form [<span class="math notranslate nohighlight">\(d_1\)</span>, <span class="math notranslate nohighlight">\(d_2\)</span>, …, <span class="math notranslate nohighlight">\(d_n\)</span>], for each channel matrix a
random delay spread is picked from those specified in the list.</p></li>
<li><p>If it is a single number, then the same delay spread is used for all channel matrices.</p></li>
</ul>
</div></blockquote>
<p>The default is <code class="docutils literal notranslate"><span class="pre">(10,500)</span></code>.</p>
</p></li>
<li><p><strong>ueSpeed</strong> (<em>float</em><em>, </em><em>tuple</em><em>, or </em><em>list</em>) – <p>Specifies the speed of the UE in meters per second. It can be one of the following:</p>
<blockquote>
<div><ul>
<li><p>If it is a tuple of the form <code class="docutils literal notranslate"><span class="pre">(speedMin,</span> <span class="pre">speedMax)</span></code>, a random value is uniformly sampled between
<code class="docutils literal notranslate"><span class="pre">speedMin</span></code> and <code class="docutils literal notranslate"><span class="pre">speedMax</span></code> for each channel matrix.</p></li>
<li><p>If it is a list of the form [<span class="math notranslate nohighlight">\(s_1\)</span>, <span class="math notranslate nohighlight">\(s_2\)</span>, …, <span class="math notranslate nohighlight">\(s_n\)</span>], for each channel matrix a
random speed is picked from those specified in the list.</p></li>
<li><p>If it is a single number, then the same UE speed is used for all channel matrices.</p></li>
</ul>
</div></blockquote>
<p>The default is <code class="docutils literal notranslate"><span class="pre">(0,20)</span></code>.</p>
</p></li>
<li><p><strong>ueDir</strong> (<em>float</em><em>, </em><em>tuple</em><em>, or </em><em>list</em>) – <p>Specifies the direction of UE movement in the X-Y plane as an angle in degrees. It can be one
of the following:</p>
<blockquote>
<div><ul>
<li><p>If it is a tuple of the form <code class="docutils literal notranslate"><span class="pre">(dirMin,</span> <span class="pre">dirMax)</span></code>, a random value is uniformly sampled between
<code class="docutils literal notranslate"><span class="pre">dirMin</span></code> and <code class="docutils literal notranslate"><span class="pre">dirMax</span></code> for each channel matrix.</p></li>
<li><p>If it is a list of the form [<span class="math notranslate nohighlight">\(a_1\)</span>, <span class="math notranslate nohighlight">\(a_2\)</span>, …, <span class="math notranslate nohighlight">\(a_n\)</span>], for each channel matrix a
random UE direction is picked from those specified in the list.</p></li>
<li><p>If it is a single number, then the same UE direction is used for all channel matrices.</p></li>
</ul>
</div></blockquote>
<p>The default is <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">360)</span></code>.</p>
</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>Here is a list of additional optional parameters that can be used to further customize the calculation
of the channel matrices:</p>
<blockquote>
<div><dl class="field-list">
<dt class="field-odd">normalizeGains<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the default value of <code class="docutils literal notranslate"><span class="pre">True</span></code> is used, the path gains are normalized.</p>
</dd>
<dt class="field-even">normalizeOutput<span class="colon">:</span></dt>
<dd class="field-even"><p>If the default value of <code class="docutils literal notranslate"><span class="pre">True</span></code> is used, the gains are normalized based on the
number of receive antennas.</p>
</dd>
<dt class="field-odd">filterLen<span class="colon">:</span></dt>
<dd class="field-odd"><p>The length of the channel filter. The default is 16 sample.</p>
</dd>
<dt class="field-even">delayQuantSize<span class="colon">:</span></dt>
<dd class="field-even"><p>The size of the delay fraction quantization for the channel filter. The default is 64.</p>
</dd>
<dt class="field-odd">stopBandAtten<span class="colon">:</span></dt>
<dd class="field-odd"><p>The stop-band attenuation value (in dB) used by the channel filter. The default
is 80 dB.</p>
</dd>
<dt class="field-even">txAntenna<span class="colon">:</span></dt>
<dd class="field-even"><p>The transmitter antenna, which is an instance of either the
<a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaPanel" title="neoradium.antenna.AntennaPanel"><code class="xref py py-class docutils literal notranslate"><span class="pre">neoradium.antenna.AntennaPanel</span></code></a> or <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaArray" title="neoradium.antenna.AntennaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">neoradium.antenna.AntennaArray</span></code></a> class.
By default, it is a single antenna in a 1x1 antenna panel with vertical polarization.</p>
</dd>
<dt class="field-odd">rxAntenna<span class="colon">:</span></dt>
<dd class="field-odd"><p>The receiver antenna which is an instance of either the
<a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaPanel" title="neoradium.antenna.AntennaPanel"><code class="xref py py-class docutils literal notranslate"><span class="pre">neoradium.antenna.AntennaPanel</span></code></a> or <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaArray" title="neoradium.antenna.AntennaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">neoradium.antenna.AntennaArray</span></code></a> class.
By default, it is a single antenna in a 1x1 antenna panel with vertical polarization.</p>
</dd>
<dt class="field-even">txOrientation<span class="colon">:</span></dt>
<dd class="field-even"><p>The orientation of the transmitter antenna. This is a list of 3 angle values in degrees
for the <em>bearing</em> angle <span class="math notranslate nohighlight">\(\alpha\)</span>, <em>downtilt</em> angle <span class="math notranslate nohighlight">\(\beta\)</span>, and <em>slant</em> angle
<span class="math notranslate nohighlight">\(\gamma\)</span>. The default is [0,0,0]. Please refer to <strong>3GPP TR 38.901, Section 7.1.3</strong> for more
information.</p>
</dd>
<dt class="field-odd">rxOrientation<span class="colon">:</span></dt>
<dd class="field-odd"><p>The orientation of the receiver antenna. This is a list of 3 angle values in degrees
for the <em>bearing</em> angle <span class="math notranslate nohighlight">\(\alpha\)</span>, <em>downtilt</em> angle <span class="math notranslate nohighlight">\(\beta\)</span>, and <em>slant</em> angle
<span class="math notranslate nohighlight">\(\gamma\)</span>. The default is [0,0,0]. Please refer to <strong>3GPP TR 38.901, Section 7.1.3</strong> for more
information.</p>
</dd>
<dt class="field-even">seed<span class="colon">:</span></dt>
<dd class="field-even"><p>The seed used to generate CDL channel matrices. The default value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, indicating
that this channel model uses the <strong>NeoRadium</strong>’s <a class="reference internal" href="Random.html"><span class="doc">global random generator</span></a>. In
this case the results are not reproducible.</p>
</dd>
<dt class="field-odd">carrierFreq<span class="colon">:</span></dt>
<dd class="field-odd"><p>The carrier frequency of the CDL channel model in Hz. The default is 3.5 GHz.</p>
</dd>
<dt class="field-even">kFactor<span class="colon">:</span></dt>
<dd class="field-even"><p>The K-Factor (in dB) used for scaling. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>. If not specified
(<code class="docutils literal notranslate"><span class="pre">kFactor=None</span></code>), K-factor scaling is disabled.</p>
</dd>
<dt class="field-odd">xPolPower<span class="colon">:</span></dt>
<dd class="field-odd"><p>The cross-polarization Power in dB. The default is 10db. For more details please refer
to “Step 3” in <strong>3GPP TR 38.901, Section 7.7.1</strong>.</p>
</dd>
<dt class="field-even">angleScaling<span class="colon">:</span></dt>
<dd class="field-even"><p>The <a class="reference internal" href="#anglescaling"><span class="std std-ref">Angle Scaling</span></a> parameters. If specified, it must be a tuple of
2 numpy arrays.</p>
<p>The first item specifies the mean values for angle scaling. It’s a 1-D NumPy array containing
four values for: the <em>Azimuth angle of Departure</em>, <em>Azimuth angle of Arrival</em>, <em>Zenith angle of
Departure</em>, and <em>Zenith angle of Arrival</em>.</p>
<p>The second item specifies the RMS angle spread values. It is a 1-D numpy array containing four RMS
values for: the <em>Azimuth angle of Departure</em>, <em>Azimuth angle of Arrival</em>, <em>Zenith angle of
Departure</em>, and <em>Zenith angle of Arrival</em>. For more information, please refer to
<a class="reference internal" href="#anglescaling"><span class="std std-ref">Angle Scaling</span></a>.</p>
<p>If this value is set to <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), the <em>Angle Scaling</em> is disabled.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">ChanGen</span></code>, a generator object that is used to generate channel matrices.</p>
</dd>
</dl>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># First create a carrier object with 25 PRBs and 15 kHz subcarrier spacing</span>
<span class="n">carrier</span> <span class="o">=</span> <span class="n">Carrier</span><span class="p">(</span><span class="n">startRb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">numRbs</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="c1"># Now create the generator</span>
<span class="n">chanGen</span> <span class="o">=</span> <span class="n">CdlChannel</span><span class="o">.</span><span class="n">getChanGen</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">carrier</span><span class="o">.</span><span class="n">curBwp</span><span class="p">,</span>       <span class="c1"># Number of channels and bandwidth part</span>
                                <span class="n">profiles</span><span class="o">=</span><span class="s2">&quot;ABCDE&quot;</span><span class="p">,</span>           <span class="c1"># Randomly pick a CDL profile</span>
                                <span class="n">delaySpread</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">500</span><span class="p">),</span>       <span class="c1"># Uniformly sample between 10 and 500 ns</span>
                                <span class="n">ueSpeed</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span>             <span class="c1"># Uniformly sample between 5 and 20 m/s</span>
                                <span class="n">ueDir</span><span class="o">=</span><span class="p">[</span><span class="mi">45</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mi">225</span><span class="p">,</span> <span class="mi">315</span><span class="p">],</span>  <span class="c1"># Randomly pick one of these UE directions</span>
                                <span class="n">carrierFreq</span><span class="o">=</span><span class="mf">4e9</span><span class="p">,</span>            <span class="c1"># Carrier frequency</span>
                                <span class="n">txAntenna</span><span class="o">=</span><span class="n">AntennaPanel</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">polarization</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">),</span>  <span class="c1"># 16 TX antennas</span>
                                <span class="n">rxAntenna</span><span class="o">=</span><span class="n">AntennaPanel</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">polarization</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">),</span>  <span class="c1"># 4 RX antennas</span>
                                <span class="n">seed</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

<span class="c1"># Create the channel matrices</span>
<span class="n">allChannels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">chan</span> <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="n">chanGen</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shape of &#39;allChannels&#39;: </span><span class="si">{</span><span class="n">allChannels</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>       <span class="c1"># Prints (1000, 14, 300, 4, 16)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="module-neoradium.tdl">
<span id="tdl-channel-model"></span><h2>TDL Channel Model<a class="headerlink" href="#module-neoradium.tdl" title="Link to this heading"></a></h2>
<p>This module implements the <a class="reference internal" href="#neoradium.tdl.TdlChannel" title="neoradium.tdl.TdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TdlChannel</span></code></a> class, which encapsulates the functionality of the
Tapped Delay Line (TDL) channel model</p>
<dl class="py class">
<dt class="sig sig-object py" id="neoradium.tdl.TdlChannel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.tdl.</span></span><span class="sig-name descname"><span class="pre">TdlChannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bwp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'A'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.tdl.TdlChannel" title="Link to this definition"></a></dt>
<dd><p>This class implements the Tapped Delay Line (TDL) channel model based on <strong>3GPP TR 38.901</strong>. It is derived from the
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel" title="neoradium.channelmodel.ChannelModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelModel</span></code></a> class.</p>
<p>According to <strong>3GPP TR 38.901</strong>, TDL models are mostly used for simplified evaluations, typically for non-MIMO
cases. They are defined for the frequency range from 0.5 GHz to 100 GHz with a maximum bandwidth of 2 GHz.</p>
<p>Although the TDL model is defined primarily for non-MIMO use cases, this implementation does support MIMO
configurations. However, unlike <a class="reference internal" href="#neoradium.cdl.CdlChannel" title="neoradium.cdl.CdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">CdlChannel</span></code></a>, this model does not work with the antenna
classes <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaPanel" title="neoradium.antenna.AntennaPanel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaPanel</span></code></a> or <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaArray" title="neoradium.antenna.AntennaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaArray</span></code></a>. For TDL channel
models, you just need to specify the number of transmit and receive antennas.</p>
<p>The typical use case involves instantiating a <a class="reference internal" href="#neoradium.tdl.TdlChannel" title="neoradium.tdl.TdlChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TdlChannel</span></code></a> object and then calling functions such as
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.getChannelMatrix" title="neoradium.channelmodel.ChannelModel.getChannelMatrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getChannelMatrix()</span></code></a>,
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.applyToSignal" title="neoradium.channelmodel.ChannelModel.applyToSignal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">applyToSignal()</span></code></a>,
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.applyToGrid" title="neoradium.channelmodel.ChannelModel.applyToGrid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">applyToGrid()</span></code></a>. Refer to the notebook
<a class="reference internal" href="../Playground/Notebooks/Channels/TdlChannel.html"><span class="doc">TDL Channel</span></a> for an example of using this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bwp</strong> (<a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a>) – The bandwidth part object used by the channel model to create channel matrices.</p></li>
<li><p><strong>profile</strong> (<em>str</em><em> or </em><em>None</em>) – <p>The TDL profile name. It can be one of the following:</p>
<blockquote>
<div><ul>
<li><p>The TDL profile which is one of ‘A’, ‘B’, ‘C’, ‘D’, ‘E’.</p></li>
<li><p>A string that specifies both profile and delay spread according to <strong>3GPP TS 38.101-4</strong>: ‘A30’,
‘B100’, ‘C60’, ‘C300’, ‘D30’. The numbers here are the delay spread in nano seconds. Note
that the delay spread specified here overrides any value passed to the <code class="docutils literal notranslate"><span class="pre">delaySpread</span></code> parameter
(See <a class="reference internal" href="#neoradium.channelmodel.ChannelModel" title="neoradium.channelmodel.ChannelModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelModel</span></code></a>)</p></li>
<li><p>A string that specifies profile, delay spread, and doppler shift according to <strong>3GPP TS 38.101-4
Table B.2.2-1</strong> and <strong>3GPP TS 38.101-4 Table B.2.2-2</strong>. This includes ‘A30-5’, ‘A30-10’, ‘B100-400’,
‘C300-100’, ‘C300-600’, ‘C300-1200’, for FR1, and ‘A30-35’, ‘A30-75’, ‘A30-300’, ‘C60-300’, ‘D30-75’
for FR2. Note that the delay spread and doppler shift specified here overrides any values
passed to the <code class="docutils literal notranslate"><span class="pre">delaySpread</span></code> and <code class="docutils literal notranslate"><span class="pre">dopplerShift</span></code> parameters (See
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel" title="neoradium.channelmodel.ChannelModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelModel</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> can be used to completely customize the TDL channel. See
<a class="reference internal" href="#customizingtdl"><span class="std std-ref">Customizing TDL Model</span></a> below for more information.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>Here’s a list of additional optional parameters that can be used to further customize this channel model:</p>
<blockquote>
<div><dl class="field-list">
<dt class="field-odd">normalizeGains<span class="colon">:</span></dt>
<dd class="field-odd"><p>A boolean flag. The default value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, indicating that the path gains
are normalized before they are applied to the signals.</p>
</dd>
<dt class="field-even">normalizeOutput<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean flag. The default value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, indicating that the gains are
normalized based on the number of receive antennas.</p>
</dd>
<dt class="field-odd">txDir<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string that represents the transmission direction, which can be either “Downlink” or
“Uplink”. By default, it is set to “Downlink”.</p>
</dd>
<dt class="field-even">filterLen<span class="colon">:</span></dt>
<dd class="field-even"><p>The length of the channel filter. The default is 16 samples.</p>
</dd>
<dt class="field-odd">delayQuantSize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The delay fraction quantization size of the channel filter. The default is 64.</p>
</dd>
<dt class="field-even">stopBandAtten<span class="colon">:</span></dt>
<dd class="field-even"><p>The stop-band attenuation value (in dB) used by the channel filter. The default
is 80 dB.</p>
</dd>
<dt class="field-odd">seed<span class="colon">:</span></dt>
<dd class="field-odd"><p>The seed used by the random functions in the channel model. Setting this to a fixed value ensures
that the channel model generates repeatable results. The default value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, indicating
that this channel model uses the <strong>NeoRadium</strong>’s <a class="reference internal" href="Random.html"><span class="doc">global random generator</span></a>.</p>
</dd>
<dt class="field-even">dopplerShift<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum Doppler shift in Hertz. The default value is 40 Hertz, which corresponds to
a speed of approximately 10 kilometers per hour. A value of zero makes the channel model static.
For trajectory-based channel models, this value is automatically assigned based on the maximum
trajectory speed.</p>
</dd>
<dt class="field-odd">carrierFreq<span class="colon">:</span></dt>
<dd class="field-odd"><p>The carrier frequency of the channel model in Hz. The default is 3.5 GHz.</p>
</dd>
<dt class="field-even">delaySpread<span class="colon">:</span></dt>
<dd class="field-even"><p>The delay spread in nanoseconds. The default is 30 ns. It can also be a string
containing one of the values in following table (See <strong>3GPP TR 38.901 table 7.7.3-1</strong>)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delay Spread str</p></th>
<th class="head"><p>Delay spread</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>’VeryShort’</p></td>
<td><p>10 ns</p></td>
</tr>
<tr class="row-odd"><td><p>’Short’</p></td>
<td><p>30 ns</p></td>
</tr>
<tr class="row-even"><td><p>’Nominal’</p></td>
<td><p>100 ns</p></td>
</tr>
<tr class="row-odd"><td><p>’Long’</p></td>
<td><p>300 ns</p></td>
</tr>
<tr class="row-even"><td><p>’VeryLong’</p></td>
<td><p>1000 ns</p></td>
</tr>
</tbody>
</table>
</dd>
<dt class="field-odd">txAntennaCount<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of transmitter antennas. Isotropic antenna elements are assumed. The
default is 1.</p>
</dd>
<dt class="field-even">rxAntennaCount<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of receiver antennas. Isotropic antenna elements are assumed. The default
is 1.</p>
</dd>
<dt class="field-odd">mimoCorrelation<span class="colon">:</span></dt>
<dd class="field-odd"><p>Specifies the relative amount of MIMO correlation in MIMO use cases. It can be one
of ‘Low’ (default), ‘Medium’, ‘MediumA’, ‘MediumB’, and ‘High’. See
<a class="reference internal" href="#calculatingcorrmat"><span class="std std-ref">Calculating Correlation Matrix</span></a> for more information.</p>
</dd>
<dt class="field-even">polarization<span class="colon">:</span></dt>
<dd class="field-even"><p>The polarization type for the MIMO use cases. It can be one of ‘CoPolar’(default) or
‘CrossPolar’. See <a class="reference internal" href="#calculatingcorrmat"><span class="std std-ref">Calculating Correlation Matrix</span></a> for more information.</p>
</dd>
<dt class="field-odd">correlationMatrix<span class="colon">:</span></dt>
<dd class="field-odd"><p>The correlation matrix. By default this implementation calculates the correlation
matrix based on 3GPP standard using the given parameters such as <code class="docutils literal notranslate"><span class="pre">mimoCorrelation</span></code> and
<code class="docutils literal notranslate"><span class="pre">polarization</span></code>. However you can specify your own correlation matrix using this parameter. See
<a class="reference internal" href="#calculatingcorrmat"><span class="std std-ref">Calculating Correlation Matrix</span></a> for more information.</p>
</dd>
<dt class="field-even">kFactor<span class="colon">:</span></dt>
<dd class="field-even"><p>The K-Factor (in dB) used for scaling. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>. If not specified
(<code class="docutils literal notranslate"><span class="pre">kFactor=None</span></code>), K-factor scaling is disabled.</p>
</dd>
<dt class="field-odd">sosType<span class="colon">:</span></dt>
<dd class="field-odd"><p>The TDL model uses the Sum-of-Sinusoids method to calculate the channel gains. This
implementation supports 2 different variations of this technique:</p>
<ul>
<li><p><strong>`GMEDS1`</strong>: The method introduced in the paper <a class="reference external" href="https://ieeexplore.ieee.org/document/5089993">“Two New Sum-of-Sinusoids-Based Methods for the
Efficient Generation of Multiple Uncorrelated Rayleigh Fading Waveforms”</a>. This is the default method.</p></li>
<li><p><strong>`Xiao`</strong>: The method introduced in the paper <a class="reference external" href="https://ieeexplore.ieee.org/document/4027602">“Novel Sum-of-Sinusoids Simulation Models for
Rayleigh and Rician Fading Channels”</a>.
Note that this is a stateless statistical model. Sequential application of this channel model
may not always have smooth transition between the resulting channel gains.</p></li>
</ul>
</dd>
<dt class="field-even">sosNumSins<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of Sinusoids used in the Sum-of-Sinusoids algorithm. The default is 32.</p>
</dd>
<dt class="field-odd">pathDelays<span class="colon">:</span></dt>
<dd class="field-odd"><p>Use this to customize or override the path delays which by default are set based on the
TDL channel model as defined in <strong>3GPP TR 38.901 Tables 7.7.2-1 to 7.7.2-5</strong>. You
don’t need to specify this parameter for most use cases. See
<a class="reference internal" href="#customizingtdl"><span class="std std-ref">Customizing TDL Model</span></a> below for more information.</p>
</dd>
<dt class="field-even">pathPowers<span class="colon">:</span></dt>
<dd class="field-even"><p>Use this to customize or override the path powers which by default are set based on the
TDL channel model as defined in <strong>3GPP TR 38.901 Tables 7.7.2-1 to 7.7.2-5</strong>. You
don’t need to specify this parameter for most use cases. See
<a class="reference internal" href="#customizingtdl"><span class="std std-ref">Customizing TDL Model</span></a> below for more information.</p>
</dd>
<dt class="field-odd">kFactorLos<span class="colon">:</span></dt>
<dd class="field-odd"><p>The K-Factor ratio (in dB) for the LOS tap (1st tap). This value by default is set to
<code class="docutils literal notranslate"><span class="pre">(pathPowers[0]-pathPowers[1])</span></code>.</p>
</dd>
<dt class="field-even">hasLos<span class="colon">:</span></dt>
<dd class="field-even"><p>Use this to customize or override the <code class="docutils literal notranslate"><span class="pre">hasLos</span></code> property of this channel model which by
default is set based on the TDL channel model as defined in <strong>3GPP TR 38.901</strong>. You don’t need to
specify this parameter for most use cases. See <a class="reference internal" href="#customizingtdl"><span class="std std-ref">Customizing TDL Model</span></a> below
for more information.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<p><strong>Other Properties:</strong></p>
<p>All of the parameters mentioned above are directly available. Here is a list of additional properties:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">coherenceTime<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Coherence_time_(communications_systems)">Coherence time</a>
of the channel model in seconds. This is calculated based on the <code class="docutils literal notranslate"><span class="pre">dopplerShift</span></code> parameter.</p>
</dd>
<dt class="field-even">sampleRate<span class="colon">:</span></dt>
<dd class="field-even"><p>The sample rate used by this channel model. For 3GPP standard, this is set to 30,720,000
samples per second.</p>
</dd>
<dt class="field-odd">nrNt<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple of the form <code class="docutils literal notranslate"><span class="pre">(nr,nt)</span></code>, where <code class="docutils literal notranslate"><span class="pre">nr</span></code> and <code class="docutils literal notranslate"><span class="pre">nt</span></code> are the number of receiver and transmitter
antenna elements, respectively. For TDL models, <code class="docutils literal notranslate"><span class="pre">nr</span></code> and <code class="docutils literal notranslate"><span class="pre">nt</span></code> are the same as <code class="docutils literal notranslate"><span class="pre">rxAntennaCount</span></code>
and <code class="docutils literal notranslate"><span class="pre">txAntennaCount</span></code> parameters.</p>
</dd>
</dl>
</div></blockquote>
<p id="calculatingcorrmat"><strong>Calculating Correlation Matrix:</strong></p>
<p>For MIMO use cases, by default, this class uses the parameters such as <code class="docutils literal notranslate"><span class="pre">mimoCorrelation</span></code> and <code class="docutils literal notranslate"><span class="pre">polarization</span></code>
to calculate the correlation matrix based on the 3GPP standard documents. This implementation is based on the
following documents:</p>
<blockquote>
<div><ul class="simple">
<li><p>3GPP TS 38.101-4 Section B.2.3.2.1</p></li>
<li><p>3GPP TS 38.101-4 Tables B.2.3.1.2-1 and B.2.3.2.2-1</p></li>
<li><p>3GPP TS 38.104 Tables G.2.3.1.2-1 and G.2.3.2.3-1</p></li>
</ul>
</div></blockquote>
<p id="customizingtdl"><strong>Customizing TDL Model:</strong></p>
<p>There are two different ways to customize the TDL model:</p>
<ol class="loweralpha">
<li><p>You can choose one of the predefined TDL profiles (See the <code class="docutils literal notranslate"><span class="pre">profile</span></code> parameter above) and then modify the
parameters of the model by passing in additional information. For example you can choose ‘B100-400’ for
<code class="docutils literal notranslate"><span class="pre">profile</span></code> and then pass your own path delays to override the path delays specified in the standard.</p></li>
<li><p>You can also define your own model completely from scratch. You first pass <code class="docutils literal notranslate"><span class="pre">None</span></code> for the <code class="docutils literal notranslate"><span class="pre">profile</span></code>
parameter and then specify all channel model parameters. Note that you <strong>must</strong> specify at least the
following parameters in this case:</p>
<blockquote>
<div><ul class="simple">
<li><p>pathDelays</p></li>
<li><p>pathPowers</p></li>
<li><p>hasLos</p></li>
</ul>
</div></blockquote>
<p>You can also optionally specify the following values:</p>
<blockquote>
<div><ul class="simple">
<li><p>kFactorLos (defaults to <code class="docutils literal notranslate"><span class="pre">pathPowers[0]-pathPowers[1]</span></code>)</p></li>
</ul>
</div></blockquote>
<p>Also note that if your channel model contains a LOS tap, it <strong>must</strong> be the first tap in the lists, and the
<code class="docutils literal notranslate"><span class="pre">hasLos</span></code> parameter should be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</li>
</ol>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.tdl.TdlChannel.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.tdl.TdlChannel.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this CDL channel model object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> or </em><em>None</em>) – If specified, it serves as the title for the printed information. If <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), an
automatic title is generated based on the channel model parameters.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then this function returns the information in a text string.
Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.tdl.TdlChannel.restart">
<span class="sig-name descname"><span class="pre">restart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">restartRanGen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">applyToBwp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.tdl.TdlChannel.restart" title="Link to this definition"></a></dt>
<dd><p>This method first re-initializes the random object if a <code class="docutils literal notranslate"><span class="pre">seed</span></code> was provided to this channel model and the
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. Subsequently, it invokes the base class’s
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.restart" title="neoradium.channelmodel.ChannelModel.restart"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart()</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>restartRanGen</strong> (<em>Boolean</em>) – If a <code class="docutils literal notranslate"><span class="pre">seed</span></code> was not provided to this channel model, this parameter is ignored. Otherwise, if
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, this channel model’s random generator is reset and if
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> (default), the random generator is not reset. This means if
<code class="docutils literal notranslate"><span class="pre">restartRanGen</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, calling this function starts a new sequence of channel instances that
are different from the sequence when the channel was instantiated.</p></li>
<li><p><strong>applyToBwp</strong> (<em>Boolean</em>) – If set to <cite>True</cite> (the default), this function restarts the Bandwidth Part associated with this channel
model. Otherwise, the Bandwidth Part’s state remains unchanged.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="module-neoradium.trjchan">
<span id="trajectory-channel-model"></span><h2>Trajectory Channel Model<a class="headerlink" href="#module-neoradium.trjchan" title="Link to this heading"></a></h2>
<p>This module implements the <a class="reference internal" href="#neoradium.trjchan.TrjChannel" title="neoradium.trjchan.TrjChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjChannel</span></code></a> class, which encapsulates the information and
functionality for creating trajectory-based, spatially and temporally consistent sequences of channels. They can be
used in simulations to study the evolution of the channel over time and its effect on communication. These channel
models can also be used to generate datasets for sequential deep learning models, such as LSTMs and Transformers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="neoradium.trjchan.TrjPoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.trjchan.</span></span><span class="sig-name descname"><span class="pre">TrjPoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hasLos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathInfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([],</span> <span class="pre">shape=(0,</span> <span class="pre">8),</span> <span class="pre">dtype=float64)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bsDist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathLoss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0.,</span> <span class="pre">0.,</span> <span class="pre">0.])</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampleNo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.TrjPoint" title="Link to this definition"></a></dt>
<dd><p>This class encapsulates the spatial and temporal information at each point along a trajectory. A
<a class="reference internal" href="#neoradium.trjchan.Trajectory" title="neoradium.trjchan.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a> object comprises an ordered set of <code class="docutils literal notranslate"><span class="pre">TrjPoint</span></code> objects. This class is
also used by the <a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData" title="neoradium.deepmimo.DeepMimoData"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeepMimoData</span></code></a> class to store the multipath information obtained
through ray-tracing at each point on the grid in a specified <a class="reference external" href="https://www.deepmimo.net">DeepMIMO</a> scenario.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You typically don’t create instances of this class directly. However, you can obtain <code class="docutils literal notranslate"><span class="pre">TrjPoint</span></code>
instances from a <a class="reference internal" href="#neoradium.trjchan.Trajectory" title="neoradium.trjchan.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a> or a <a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData" title="neoradium.deepmimo.DeepMimoData"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeepMimoData</span></code></a>
object. This documentation may be helpful if you want to implement additional sources of trajectories beyond
the <a class="reference external" href="https://www.deepmimo.net">DeepMIMO</a> framework currently implemented in the <a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData" title="neoradium.deepmimo.DeepMimoData"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeepMimoData</span></code></a> class.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xyz</strong> (<em>list</em>) – A list of three floating-point numbers giving the 3-D coordinates of this
<a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> in meters. The default is <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></code>.</p></li>
<li><p><strong>hasLos</strong> (<em>int</em>) – <p>An integer that can take on any of the following values:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">1<span class="colon">:</span></dt>
<dd class="field-odd"><p>Means there is a line-of-sight (LOS) path between the UE at this
<a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> and the base station.</p>
</dd>
<dt class="field-even">0<span class="colon">:</span></dt>
<dd class="field-even"><p>Means there is no line-of-sight (LOS) path between the UE at this
<a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> and the base station.</p>
</dd>
<dt class="field-odd">-1<span class="colon">:</span></dt>
<dd class="field-odd"><p>Means there is no path between the UE at this <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> and the
base station. (Total Blockage)</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>pathInfo</strong> (<em>numpy array</em>) – <p>An <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">×</span> <span class="pre">8</span></code> matrix, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of paths. It contains the multipath information at this
<a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a>. The default is an empty numpy array. The eight parameters for
each path are stored in this matrix as follows:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">0<span class="colon">:</span></dt>
<dd class="field-odd"><p>Path <em>phase</em> angle in degrees.</p>
</dd>
<dt class="field-even">1<span class="colon">:</span></dt>
<dd class="field-even"><p>Path <em>delay</em> in nanoseconds.</p>
</dd>
<dt class="field-odd">2<span class="colon">:</span></dt>
<dd class="field-odd"><p>Path <em>gain</em> in dB.</p>
</dd>
<dt class="field-even">3<span class="colon">:</span></dt>
<dd class="field-even"><p>Azimuth angle Of Arrival (AOA) in degrees.</p>
</dd>
<dt class="field-odd">4<span class="colon">:</span></dt>
<dd class="field-odd"><p>Zenith angle Of Arrival (ZOA) in degrees.</p>
</dd>
<dt class="field-even">5<span class="colon">:</span></dt>
<dd class="field-even"><p>Azimuth angle Of Departure (AOD) in degrees.</p>
</dd>
<dt class="field-odd">6<span class="colon">:</span></dt>
<dd class="field-odd"><p>Zenith angle Of Departure (ZOD) in degrees.</p>
</dd>
<dt class="field-even">7<span class="colon">:</span></dt>
<dd class="field-even"><p>The path interactions (See the <code class="docutils literal notranslate"><span class="pre">bounces</span></code> parameter below). For each path, it is an integer that
can take values of 0, -1, or a positive number. A value of 0 indicates a line-of-sight path. A
value of -1 typically indicates the path interaction information is not available, for example
when older <a class="reference external" href="https://www.deepmimo.net">DeepMIMO</a> scenario files are used. If the value is
positive, the number of digits specifies the number of interactions the path had on its journey
from the transmitter to the receiver. Each digit represents a specific type of interaction:</p>
<dl class="field-list simple">
<dt class="field-odd">1<span class="colon">:</span></dt>
<dd class="field-odd"><p>Reflection</p>
</dd>
<dt class="field-even">2<span class="colon">:</span></dt>
<dd class="field-even"><p>Diffraction</p>
</dd>
<dt class="field-odd">3<span class="colon">:</span></dt>
<dd class="field-odd"><p>Scattering</p>
</dd>
<dt class="field-even">4<span class="colon">:</span></dt>
<dd class="field-even"><p>Transmission</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>bsDist</strong> (<em>float</em>) – The distance between this <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> and the base station in meters. The
default is zero.</p></li>
<li><p><strong>speed</strong> (<em>numpy array</em>) – The 3D vector of linear speed at this <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> in meters per second (m/s).</p></li>
<li><p><strong>sampleNo</strong> (<em>int</em>) – The time when the UE arrives at this <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> as a number of samples from
the start of <a class="reference internal" href="#neoradium.trjchan.Trajectory" title="neoradium.trjchan.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a>. This is based on <strong>3GPP</strong> sample rate of 30,720,000
samples per second.</p></li>
</ul>
</dd>
</dl>
<p><strong>Other Properties:</strong></p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">numPaths<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of paths between the UE at this <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> and the
base station.</p>
</dd>
<dt class="field-even">numNlosPaths<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of Non-Line-Of-Sight (NLOS) paths between the UE at this
<a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> and the base station.</p>
</dd>
<dt class="field-odd">time<span class="colon">:</span></dt>
<dd class="field-odd"><p>The time (in seconds) when the user arrives at this <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a>. This
read-only value is zero for the first <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> of the
<a class="reference internal" href="#neoradium.trjchan.Trajectory" title="neoradium.trjchan.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a> and increases based on the speed and the distance between
the points along the trajectory.</p>
</dd>
<dt class="field-even">linearSpeed<span class="colon">:</span></dt>
<dd class="field-even"><p>UE’s linear speed at this <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> (Read-only).</p>
</dd>
<dt class="field-odd">phases<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <em>phase</em> angles in degrees for all paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is are paths.</p>
</dd>
<dt class="field-even">delays<span class="colon">:</span></dt>
<dd class="field-even"><p>The <em>delay</em> in nanoseconds for all paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no paths.</p>
</dd>
<dt class="field-odd">powers<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <em>gain</em> in dB for all NLOS paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no paths.</p>
</dd>
<dt class="field-even">aoas<span class="colon">:</span></dt>
<dd class="field-even"><p>The Azimuth angle Of Arrival (AOA) in degrees for all paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no paths.</p>
</dd>
<dt class="field-odd">zoas<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Zenith angle Of Arrival (ZOA) in degrees for all paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no paths.</p>
</dd>
<dt class="field-even">aods<span class="colon">:</span></dt>
<dd class="field-even"><p>The Azimuth angle Of Departure (AOD) in degrees for all paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no paths.</p>
</dd>
<dt class="field-odd">zods<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Zenith angle Of Departure (ZOD) in degrees for all paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no paths.</p>
</dd>
<dt class="field-even">bounces<span class="colon">:</span></dt>
<dd class="field-even"><p>The path interaction information for all paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no paths. See the
explanation of the path interactions for the <code class="docutils literal notranslate"><span class="pre">pathInfo</span></code> parameter above.</p>
</dd>
<dt class="field-odd">losPhase<span class="colon">:</span></dt>
<dd class="field-odd"><p>The LOS path’s <em>phase</em> angle in degrees or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no LOS path.</p>
</dd>
<dt class="field-even">losDelay<span class="colon">:</span></dt>
<dd class="field-even"><p>The LOS path’s <em>delay</em> in nanoseconds or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no LOS path.</p>
</dd>
<dt class="field-odd">losPower<span class="colon">:</span></dt>
<dd class="field-odd"><p>The LOS path’s <em>gain</em> in dB or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no LOS path.</p>
</dd>
<dt class="field-even">losAoa<span class="colon">:</span></dt>
<dd class="field-even"><p>The LOS path’s Azimuth angle Of Arrival (AOA) in degrees or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no LOS path.</p>
</dd>
<dt class="field-odd">losZoa<span class="colon">:</span></dt>
<dd class="field-odd"><p>The LOS path’s Zenith angle Of Arrival (ZOA) in degrees or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no LOS path.</p>
</dd>
<dt class="field-even">losAod<span class="colon">:</span></dt>
<dd class="field-even"><p>The LOS path’s Azimuth angle Of Departure (AOD) in degrees or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no LOS path.</p>
</dd>
<dt class="field-odd">losZod<span class="colon">:</span></dt>
<dd class="field-odd"><p>The LOS path’s Zenith angle Of Departure (ZOD) in degrees or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no LOS path.</p>
</dd>
<dt class="field-even">nlosPhases<span class="colon">:</span></dt>
<dd class="field-even"><p>The <em>phase</em> angles in degrees for all NLOS paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no NLOS paths.</p>
</dd>
<dt class="field-odd">nlosDelays<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <em>delay</em> in nanoseconds for all NLOS paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no NLOS paths.</p>
</dd>
<dt class="field-even">nlosPowers<span class="colon">:</span></dt>
<dd class="field-even"><p>The <em>gain</em> in dB for all NLOS paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no NLOS paths.</p>
</dd>
<dt class="field-odd">nlosAoas<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Azimuth angle Of Arrival (AOA) in degrees for all NLOS paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no NLOS paths.</p>
</dd>
<dt class="field-even">nlosZoas<span class="colon">:</span></dt>
<dd class="field-even"><p>The Zenith angle Of Arrival (ZOA) in degrees for all NLOS paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no NLOS paths.</p>
</dd>
<dt class="field-odd">nlosAods<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Azimuth angle Of Departure (AOD) in degrees for all NLOS paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no NLOS paths.</p>
</dd>
<dt class="field-even">nlosZods<span class="colon">:</span></dt>
<dd class="field-even"><p>The Zenith angle Of Departure (ZOD) in degrees for all NLOS paths or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no NLOS paths.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.TrjPoint.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TrjPoint</span> <span class="pre">Properties:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.TrjPoint.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – Used internally to adjust the indentation of the printed info.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – The title used for the information. By default the text
“TrjPoint Properties:” is used.</p></li>
<li><p><strong>getStr</strong> (<em>boolean</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If “getStr” is true, this function returns a text string containing the information about the properties
of this class. Otherwise, nothing is returned (default).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="neoradium.trjchan.Trajectory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.trjchan.</span></span><span class="sig-name descname"><span class="pre">Trajectory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carrierFreq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.Trajectory" title="Link to this definition"></a></dt>
<dd><p>This class maintains a collection of <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> objects that collectively form a UE
trajectory. Additionally, it offers the capability to update its internal state as the UE moves along the
trajectory.</p>
<p>The trajectory objects are typically generated using a Ray-Tracing framework, such as
<a class="reference internal" href="DeepMIMO.html#module-neoradium.deepmimo" title="neoradium.deepmimo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">DeepMIMO</span></code></a>. For instance, the methods
<a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData.interactiveTrajPoints" title="neoradium.deepmimo.DeepMimoData.interactiveTrajPoints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">interactiveTrajPoints()</span></code></a> and
<a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData.trajectoryFromPoints" title="neoradium.deepmimo.DeepMimoData.trajectoryFromPoints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">trajectoryFromPoints()</span></code></a> can be used to interactively define a trajectory.
You can also use the <a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData.getRandomTrajectory" title="neoradium.deepmimo.DeepMimoData.getRandomTrajectory"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getRandomTrajectory()</span></code></a> method to create a random
trajectory based on the provided Ray-Tracing Scenario, along with other spatial and temporal information about
the desired trajectory configuration. Please refer to the notebooks
<a class="reference internal" href="../Playground/Notebooks/RayTracing/DeepMimo.html"><span class="doc">Working with DeepMIMO Scenarios</span></a> and <a class="reference internal" href="../Playground/Notebooks/RayTracing/TrajChannelAnim.html"><span class="doc">Animating Trajectories</span></a>
for examples of using this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<em>list</em>) – A list of <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> objects defining this trajectory.</p></li>
<li><p><strong>carrierFreq</strong> (<em>float</em>) – The carrier frequency (in Hz) of the communication between the UE and the base station while traveling
along this trajectory. This is typically specified by the ray-tracing scenario used to create this
trajectory.</p></li>
</ul>
</dd>
</dl>
<p><strong>Other Properties</strong>:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">curIdx<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current index in the list of <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> objects. This starts at
zero and is incremented as the UE travels along the trajectory.</p>
</dd>
<dt class="field-even">minPaths, avgPaths, maxPaths<span class="colon">:</span></dt>
<dd class="field-even"><p>Statistics representing the minimum, average, and maximum number of paths
between the UE and the base station for all points along this trajectory.</p>
</dd>
<dt class="field-odd">numPoints<span class="colon">:</span></dt>
<dd class="field-odd"><p>A read-only property that returns the total number of points on this trajectory.</p>
</dd>
<dt class="field-even">numLOS<span class="colon">:</span></dt>
<dd class="field-even"><p>A read-only property that returns the total number of points along this trajectory with a
Line-Of-Sight (LOS) path between the UE and the base station.</p>
</dd>
<dt class="field-odd">numBlockage<span class="colon">:</span></dt>
<dd class="field-odd"><p>A read-only property that returns the total number of points along this trajectory with total
blockage (i.e., no paths between the UE and the base station).</p>
</dd>
<dt class="field-even">cur<span class="colon">:</span></dt>
<dd class="field-even"><p>A read-only property returning current <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> on the trajectory.
This is the <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> object at index <code class="docutils literal notranslate"><span class="pre">curIdx</span></code>.</p>
</dd>
<dt class="field-odd">remainingPoints<span class="colon">:</span></dt>
<dd class="field-odd"><p>A read-only property returning the remaining points from <code class="docutils literal notranslate"><span class="pre">cur</span></code> to the end of
trajectory (including <code class="docutils literal notranslate"><span class="pre">cur</span></code>).</p>
</dd>
<dt class="field-even">time<span class="colon">:</span></dt>
<dd class="field-even"><p>A read-only property returning the total travel time (in seconds) along this trajectory. This is
the time of the last point on the trajectory (<code class="docutils literal notranslate"><span class="pre">trajectory[-1].time</span></code>).</p>
</dd>
<dt class="field-odd">totalDist<span class="colon">:</span></dt>
<dd class="field-odd"><p>A read-only property returning the total distance (in meters) traveled along this trajectory.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Indexing</strong>:</p>
<p>This class supports direct indexing with <a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> objects. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">deepMimoData</span> <span class="o">=</span> <span class="n">DeepMimoData</span><span class="p">(</span><span class="s2">&quot;O1_3p5B&quot;</span><span class="p">,</span> <span class="n">baseStationId</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">carrier</span> <span class="o">=</span> <span class="n">Carrier</span><span class="p">(</span><span class="n">startRb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">numRbs</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Carrier with 25 Resource Blocks, 15 kHz spacing</span>
<span class="n">xyBounds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span> <span class="p">[</span><span class="mi">270</span><span class="p">,</span> <span class="mi">400</span><span class="p">]])</span>        <span class="c1"># [[minX, minY], [maxX, maxY]]</span>
<span class="n">trajLen</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">segLen</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">traj</span> <span class="o">=</span> <span class="n">deepMimoData</span><span class="o">.</span><span class="n">getRandomTrajectory</span><span class="p">(</span><span class="n">xyBounds</span><span class="p">,</span> <span class="n">segLen</span><span class="p">,</span> <span class="n">carrier</span><span class="o">.</span><span class="n">curBwp</span><span class="p">,</span> <span class="n">trajLen</span><span class="p">,</span> <span class="n">trajDir</span><span class="o">=</span><span class="s2">&quot;-X&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">traj</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span>   <span class="c1"># print the times of the first 5 points on the trajectory</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">traj</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>     <span class="c1"># print the time of the last point on the trajectory</span>
</pre></div>
</div>
<p><strong>Iterating through points</strong>:</p>
<p>This class has a generator function (<code class="docutils literal notranslate"><span class="pre">__iter__</span></code>) which makes it easier to use it in a loop. For example, the
following code finds the point on the trajectory that is farthest from the base station.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">deepMimoData</span> <span class="o">=</span> <span class="n">DeepMimoData</span><span class="p">(</span><span class="s2">&quot;O1_3p5B&quot;</span><span class="p">,</span> <span class="n">baseStationId</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">carrier</span> <span class="o">=</span> <span class="n">Carrier</span><span class="p">(</span><span class="n">startRb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">numRbs</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Carrier with 25 Resource Blocks, 15 kHz spacing</span>
<span class="n">xyBounds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span> <span class="p">[</span><span class="mi">270</span><span class="p">,</span> <span class="mi">400</span><span class="p">]])</span>        <span class="c1"># [[minX, minY], [maxX, maxY]]</span>
<span class="n">trajLen</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">segLen</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">traj</span> <span class="o">=</span> <span class="n">deepMimoData</span><span class="o">.</span><span class="n">getRandomTrajectory</span><span class="p">(</span><span class="n">xyBounds</span><span class="p">,</span> <span class="n">segLen</span><span class="p">,</span> <span class="n">carrier</span><span class="o">.</span><span class="n">curBwp</span><span class="p">,</span> <span class="n">trajLen</span><span class="p">,</span> <span class="n">trajDir</span><span class="o">=</span><span class="s2">&quot;-X&quot;</span><span class="p">)</span>

<span class="n">farPoint</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">maxDist</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">traj</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">bsDist</span><span class="o">&gt;</span><span class="n">maxDist</span><span class="p">:</span>
        <span class="n">farPoint</span> <span class="o">=</span> <span class="n">point</span>
        <span class="n">maxDist</span> <span class="o">=</span> <span class="n">point</span><span class="o">.</span><span class="n">bsDist</span>
<span class="nb">print</span><span class="p">(</span><span class="n">farPoint</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>TrjPoint Redirection</strong>:</p>
<p>The properties <strong>phases</strong>, <strong>delays</strong>, <strong>powers</strong>, <strong>aoas</strong>, <strong>zoas</strong>, <strong>aods</strong>, <strong>zods</strong>, <strong>bounces</strong>,
<strong>losPhase</strong>, <strong>losDelay</strong>, <strong>losPower</strong>, <strong>losAoa</strong>, <strong>losZoa</strong>, <strong>losAod</strong>, <strong>losZod</strong>,
<strong>nlosPhases</strong>, <strong>nlosDelays</strong>, <strong>nlosPowers</strong>, <strong>nlosAoas</strong>, <strong>nlosZoas</strong>, <strong>nlosAods</strong>, <strong>nlosZods</strong>,
<strong>hasLos</strong>, <strong>numPaths*</strong>, and <strong>numNlosPaths</strong> are redirected to the corresponding property in the
<a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> class for the current point (<code class="docutils literal notranslate"><span class="pre">cur</span></code>). For example <code class="docutils literal notranslate"><span class="pre">traj.losZod</span></code> is
equivalent to <code class="docutils literal notranslate"><span class="pre">traj.cur.losZod</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.Trajectory.restart">
<span class="sig-name descname"><span class="pre">restart</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.Trajectory.restart" title="Link to this definition"></a></dt>
<dd><p>This function resets the current trajectory point to the starting point.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.Trajectory.goNext">
<span class="sig-name descname"><span class="pre">goNext</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.Trajectory.goNext" title="Link to this definition"></a></dt>
<dd><p>This function advances current point in this trajectory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.Trajectory.draw">
<span class="sig-name descname"><span class="pre">draw</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.Trajectory.draw" title="Link to this definition"></a></dt>
<dd><p>This visualization function draws this trajectory object using the <cite>matplotlib</cite> library. The starting point
of the trajectory is shown with a small red circle.</p>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">deepMimoData</span> <span class="o">=</span> <span class="n">DeepMimoData</span><span class="p">(</span><span class="s2">&quot;O1_3p5B&quot;</span><span class="p">,</span> <span class="n">baseStationId</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">carrier</span> <span class="o">=</span> <span class="n">Carrier</span><span class="p">(</span><span class="n">startRb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">numRbs</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Carrier with 25 Resource Blocks, 15 kHz spacing</span>
<span class="n">xyBounds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span> <span class="p">[</span><span class="mi">270</span><span class="p">,</span> <span class="mi">400</span><span class="p">]])</span>        <span class="c1"># [[minX, minY], [maxX, maxY]]</span>
<span class="n">trajLen</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">segLen</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">traj</span> <span class="o">=</span> <span class="n">deepMimoData</span><span class="o">.</span><span class="n">getRandomTrajectory</span><span class="p">(</span><span class="n">xyBounds</span><span class="p">,</span> <span class="n">segLen</span><span class="p">,</span> <span class="n">carrier</span><span class="o">.</span><span class="n">curBwp</span><span class="p">,</span> <span class="n">trajLen</span><span class="p">,</span> <span class="n">trajDir</span><span class="o">=</span><span class="s2">&quot;-X&quot;</span><span class="p">)</span>
<span class="n">traj</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" style="width: 600px">
<img alt="../../_images/Trajectory.png" src="../../_images/Trajectory.png" />
</figure>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.Trajectory.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Trajectory</span> <span class="pre">Properties:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.Trajectory.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – Used internally to adjust the indentation of the printed info.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – The title used for the information. By default the text “Trajectory Properties:” is used.</p></li>
<li><p><strong>getStr</strong> (<em>boolean</em>) – If this is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function returns a text string instead of printing the info. Otherwise when this
is <code class="docutils literal notranslate"><span class="pre">False</span></code> (default) the function prints the information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If “getStr” is true, this function returns a text string containing
the information about the properties of this class. Otherwise, nothing
is returned (default).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="neoradium.trjchan.TrjChannel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.trjchan.</span></span><span class="sig-name descname"><span class="pre">TrjChannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bwp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trajectory</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.TrjChannel" title="Link to this definition"></a></dt>
<dd><p>This class implements a trajectory-based channel model that can generate spatially and temporally consistent
sequences of channel information. It creates channel instances based on the movement of users along a
<a class="reference internal" href="#neoradium.trjchan.Trajectory" title="neoradium.trjchan.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a>. The <a class="reference internal" href="#neoradium.trjchan.TrjChannel" title="neoradium.trjchan.TrjChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjChannel</span></code></a> class has been
implemented based on <strong>3GPP TR 38.901 Section 8</strong> with the following additional assumptions:</p>
<ul class="simple">
<li><p>We assume only one <em>frequency bin</em> (<span class="math notranslate nohighlight">\(K_B=1\)</span>) and derive the path power <span class="math notranslate nohighlight">\(P_{l_{RT}}^{RT,real}\)</span> from
the multipath information for each path. As explained in “Step 2” of <strong>3GPP TR 38.901 Section 8.4</strong>,
this implies that the bandwidth <span class="math notranslate nohighlight">\(B\)</span> must be lower than <span class="math notranslate nohighlight">\(c/D\)</span> Hz, where <span class="math notranslate nohighlight">\(c\)</span> is the speed of
light and <span class="math notranslate nohighlight">\(D\)</span> is the maximum antenna aperture in either azimuth or elevation.</p></li>
<li><p>We skip Steps 4 to 10 in <strong>3GPP TR 38.901 Section 8.4</strong>. In essence, we refrain from generating random
clusters and rays and only use the deterministic paths calculated through ray-tracing. Consequently, the number
of paths is equivalent to the number of clusters, and each cluster contains a single ray.</p></li>
<li><p>We use the same Cross-Polarization Ratio (XPR) for all paths. This value (<span class="math notranslate nohighlight">\(\kappa^{RT}\)</span>) is derived from
the <code class="docutils literal notranslate"><span class="pre">xPolPower</span></code> parameter (<span class="math notranslate nohighlight">\(X\)</span>) using:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\kappa^{RT} = 10^{\frac X {10}}\]</div>
<ul class="simple">
<li><p>For the initial phase values used to calculate the cross-polarization matrix, we opt for the phase values
obtained from ray-tracing instead of generating random values (as outlined in “Step 12” of <strong>3GPP TR 38.901
Section 8.4</strong>). Additionally, we employ the same phase value for all four initial phase angles:
<span class="math notranslate nohighlight">\(\Phi^{\theta \theta}\)</span>, <span class="math notranslate nohighlight">\(\Phi^{\theta \phi}\)</span>, <span class="math notranslate nohighlight">\(\Phi^{\phi \theta}\)</span>, and
<span class="math notranslate nohighlight">\(\Phi^{\phi \phi}\)</span>. This approach is expected to enhance spatial consistency when generating sequences
of channels, which is the main goal of this channel model.</p></li>
</ul>
<p>All API functions used in most typical use cases are explained in the documentation of
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel" title="neoradium.channelmodel.ChannelModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelModel</span></code></a> class.</p>
<p>The typical use case involves creating a trajectory (using
<a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData.interactiveTrajPoints" title="neoradium.deepmimo.DeepMimoData.interactiveTrajPoints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">interactiveTrajPoints()</span></code></a> and
<a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData.trajectoryFromPoints" title="neoradium.deepmimo.DeepMimoData.trajectoryFromPoints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">trajectoryFromPoints()</span></code></a>, or
<a class="reference internal" href="DeepMIMO.html#neoradium.deepmimo.DeepMimoData.getRandomTrajectory" title="neoradium.deepmimo.DeepMimoData.getRandomTrajectory"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getRandomTrajectory()</span></code></a>), using it to obtain a <a class="reference internal" href="#neoradium.trjchan.TrjChannel" title="neoradium.trjchan.TrjChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjChannel</span></code></a>
object, and then calling functions such as <a class="reference internal" href="#neoradium.channelmodel.ChannelModel.getChannelMatrix" title="neoradium.channelmodel.ChannelModel.getChannelMatrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getChannelMatrix()</span></code></a>,
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.applyToSignal" title="neoradium.channelmodel.ChannelModel.applyToSignal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">applyToSignal()</span></code></a>,
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.applyToGrid" title="neoradium.channelmodel.ChannelModel.applyToGrid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">applyToGrid()</span></code></a>.</p>
<p>Please refer to the notebook <a class="reference internal" href="../Playground/Notebooks/RayTracing/TrajChannel.html"><span class="doc">Using the Trajectory-based Channel Model</span></a> for an example of using
this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bwp</strong> (<a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a>) – The bandwidth part object used by the channel model to construct channel matrices.</p></li>
<li><p><strong>trajectory</strong> (<a class="reference internal" href="#neoradium.trjchan.Trajectory" title="neoradium.trjchan.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a>) – The trajectory along which the channels are created by this channel model. This object contains multipath
information that is used to create sequences of channels.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>Here’s a list of additional optional parameters that can be used to further customize this channel model:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">normalizeGains<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the default value of <code class="docutils literal notranslate"><span class="pre">True</span></code> is used, the path gains are normalized before
being applied to the signals.</p>
</dd>
<dt class="field-even">normalizeOutput<span class="colon">:</span></dt>
<dd class="field-even"><p>If the default value of <code class="docutils literal notranslate"><span class="pre">True</span></code> is used, the gains are normalized based on the
number of receive antennas.</p>
</dd>
<dt class="field-odd">normalizeDelays<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the default value of <code class="docutils literal notranslate"><span class="pre">True</span></code> is used, the delays are normalized as specified in
“Step 3” of <strong>3GPP TR 38.901 section 8.4</strong>. Otherwise, the original delays obtained from
ray-tracing are used.</p>
</dd>
<dt class="field-even">filterLen<span class="colon">:</span></dt>
<dd class="field-even"><p>The length of the channel filter. The default is 16 sample.</p>
</dd>
<dt class="field-odd">delayQuantSize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The size of delay fraction quantization for the channel filter. The default is 64.</p>
</dd>
<dt class="field-even">stopBandAtten<span class="colon">:</span></dt>
<dd class="field-even"><p>The Stop-band attenuation value (in dB) used by the channel filter. The default is 80dB.</p>
</dd>
<dt class="field-odd">txAntenna<span class="colon">:</span></dt>
<dd class="field-odd"><p>The transmitter antenna, which is an instance of
<a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaElement" title="neoradium.antenna.AntennaElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaElement</span></code></a>, <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaPanel" title="neoradium.antenna.AntennaPanel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaPanel</span></code></a>,
or <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaArray" title="neoradium.antenna.AntennaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaArray</span></code></a> class. If not specified, a single antenna element is
automatically created by default.</p>
</dd>
<dt class="field-even">rxAntenna<span class="colon">:</span></dt>
<dd class="field-even"><p>The receiver antenna, which is an instance of
<a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaElement" title="neoradium.antenna.AntennaElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaElement</span></code></a>, <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaPanel" title="neoradium.antenna.AntennaPanel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaPanel</span></code></a>,
or <a class="reference internal" href="Antenna.html#neoradium.antenna.AntennaArray" title="neoradium.antenna.AntennaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">AntennaArray</span></code></a> class. If not specified, a single antenna element is
automatically created by default.</p>
</dd>
<dt class="field-odd">txOrientation<span class="colon">:</span></dt>
<dd class="field-odd"><p>The orientation of transmitter antenna. This is a list of 3 angle values in degrees for
the <em>bearing</em> angle <span class="math notranslate nohighlight">\(\alpha\)</span>, <em>downtilt</em> angle <span class="math notranslate nohighlight">\(\beta\)</span>, and <em>slant</em> angle
<span class="math notranslate nohighlight">\(\gamma\)</span>. The default is [0,0,0]. Please refer to <strong>3GPP TR 38.901 Section 7.1.3</strong> for more
information.</p>
</dd>
<dt class="field-even">rxOrientation<span class="colon">:</span></dt>
<dd class="field-even"><p>The orientation of receiver antenna. This is a list of 3 angle values in degrees for
the <em>bearing</em> angle <span class="math notranslate nohighlight">\(\alpha\)</span>, <em>downtilt</em> angle <span class="math notranslate nohighlight">\(\beta\)</span>, and <em>slant</em> angle
<span class="math notranslate nohighlight">\(\gamma\)</span>. The default is [0,0,0]. Please refer to <strong>3GPP TR 38.901 Section 7.1.3</strong> for more
information.</p>
</dd>
<dt class="field-odd">xPolPower<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Cross-Polarization Power in dB. The default is 10db. It is defined as
<span class="math notranslate nohighlight">\(X=10 log_{10} \kappa^{RT}\)</span> where <span class="math notranslate nohighlight">\(\kappa^{RT}\)</span> is the Cross-Polarization Ratio (XPR).
In current implementation this value is used for all paths.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<p><strong>Other Properties:</strong></p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">nrNt<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple of the form <code class="docutils literal notranslate"><span class="pre">(nr,nt)</span></code>, where <code class="docutils literal notranslate"><span class="pre">nr</span></code> and <code class="docutils literal notranslate"><span class="pre">nt</span></code> are the number receiver and transmitter
antenna elements, respectively.</p>
</dd>
<dt class="field-even">pathPowers<span class="colon">:</span></dt>
<dd class="field-even"><p>This read-only property returns the path powers for all paths between the base station and
the UE at current position on the current trajectory.</p>
</dd>
<dt class="field-odd">pathDelays<span class="colon">:</span></dt>
<dd class="field-odd"><p>This read-only property returns the path delays for all paths between the base
station and the UE at current position on the trajectory. If the parameter <code class="docutils literal notranslate"><span class="pre">normalizeDelays</span></code>
is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the delays from the ray-tracing are normalized according to “Step 3” in <strong>3GPP TR 38.901
Section 8.4</strong>. Note that the delay normalization (if enabled) is only applied to this property; the
redirected properties “delays”, “losDelay”, and “nlosDelays” always keep the original delay values from
the ray-tracing.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>TrjPoint Redirection</strong>:</p>
<blockquote>
<div><p>The properties <strong>phases</strong>, <strong>delays</strong>, <strong>powers</strong>, <strong>aoas</strong>, <strong>zoas</strong>, <strong>aods</strong>, <strong>zods</strong>, <strong>bounces</strong>,
<strong>losPhase</strong>, <strong>losDelay</strong>, <strong>losPower</strong>, <strong>losAoa</strong>, <strong>losZoa</strong>, <strong>losAod</strong>, <strong>losZod</strong>,
<strong>nlosPhases</strong>, <strong>nlosDelays</strong>, <strong>nlosPowers</strong>, <strong>nlosAoas</strong>, <strong>nlosZoas</strong>, <strong>nlosAods</strong>, <strong>nlosZods</strong>,
<strong>hasLos</strong>, <strong>numPaths*</strong>, and <strong>numNlosPaths</strong> are redirected to the corresponding property in the
<a class="reference internal" href="#neoradium.trjchan.TrjPoint" title="neoradium.trjchan.TrjPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjPoint</span></code></a> class for the current point (<code class="docutils literal notranslate"><span class="pre">cur</span></code>) in the trajectory. For
example <code class="docutils literal notranslate"><span class="pre">channel.losZod</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">channel.trajectory.cur.losZod</span></code>.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.TrjChannel.restart">
<span class="sig-name descname"><span class="pre">restart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">restartRanGen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">applyToBwp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.TrjChannel.restart" title="Link to this definition"></a></dt>
<dd><p>This method first resets the current trajectory to its starting position and then calls the base class
<a class="reference internal" href="#neoradium.channelmodel.ChannelModel.restart" title="neoradium.channelmodel.ChannelModel.restart"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>restartRanGen</strong> (<em>Boolean</em>) – Ignored for the <a class="reference internal" href="#neoradium.trjchan.TrjChannel" title="neoradium.trjchan.TrjChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrjChannel</span></code></a> class as it uses deterministic information only.</p></li>
<li><p><strong>applyToBwp</strong> (<em>Boolean</em>) – If set to <cite>True</cite> (the default), this function restarts the Bandwidth Part associated with this channel
model. Otherwise, the Bandwidth Part’s state remains unchanged.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.TrjChannel.goNext">
<span class="sig-name descname"><span class="pre">goNext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">applyToBwp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.TrjChannel.goNext" title="Link to this definition"></a></dt>
<dd><p>This method is called after each application of the channel to a signal. It updates the timing information of
the trajectory and the channel model preparing it for the next application to the input signal. It is assumed
that the channel is applied to a single slot of the signal at each application (either in the time or
frequency domain).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>applyToBwp</strong> (<em>Boolean</em>) – If set to <cite>True</cite> (the default), this function advances the timing state of the Bandwidth Part associated
with this channel model. Otherwise, the Bandwidth Part’s state remains unchanged.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.TrjChannel.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.TrjChannel.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this channel model object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> or </em><em>None</em>) – If specified, it is used as a title for the printed information. If <code class="docutils literal notranslate"><span class="pre">None</span></code> (default), the text
“TrjChannel Properties:” is used for the title.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then this function returns
the information in a text string. Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.TrjChannel.getPathGains">
<span class="sig-name descname"><span class="pre">getPathGains</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.TrjChannel.getPathGains" title="Link to this definition"></a></dt>
<dd><p>Calculates the gains for Line-of-Sight (LOS) and Non-Line-of-Sight (NLOS) paths separately and combines the
results before returning the gains between every RX/TX antenna pair, for every path, at every time instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>This function returns a 4-D complex tensor of shape <code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">x</span> <span class="pre">Nr</span> <span class="pre">x</span> <span class="pre">Nt</span> <span class="pre">x</span> <span class="pre">Np</span></code>, where <code class="docutils literal notranslate"><span class="pre">L</span></code> represents the
number of time symbols, <code class="docutils literal notranslate"><span class="pre">Nr</span></code> and <code class="docutils literal notranslate"><span class="pre">Nt</span></code> indicate the number of receiver and transmitter antennas
respectively, and <code class="docutils literal notranslate"><span class="pre">Np</span></code> denotes the number of paths between the base station and the UE at its current
location along its trajectory.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy array or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.trjchan.TrjChannel.getChanSeqGen">
<span class="sig-name descname"><span class="pre">getChanSeqGen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seqPeriod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seqLen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxNumSeq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.trjchan.TrjChannel.getChanSeqGen" title="Link to this definition"></a></dt>
<dd><p>Returns a generator object that can generate sequences of channel matrices based on the given parameters.</p>
<p>Refer to the notebook <a class="reference internal" href="../Playground/Notebooks/RayTracing/ChannelSequences.html"><span class="doc">Creating temporally and spatially consistent sequences of channel matrices</span></a> for an example of
using this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seqPeriod</strong> (<em>int</em>) – The sampling period of channel matrices along the trajectory. The default value of <code class="docutils literal notranslate"><span class="pre">1</span></code> means all
channel matrices are included in the sequence. For instance, if this is set to <code class="docutils literal notranslate"><span class="pre">3</span></code>, every other three
channel matrices (i.e., every other three slots) are included in the sequence.</p></li>
<li><p><strong>seqLen</strong> (<em>int</em>) – The length of the returned sequences. The default is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>maxNumSeq</strong> (<em>int</em>) – The maximum number of sequences to generate. By default, it is set to <cite>np.inf</cite>, indicating no additional
limit for the number of sequences. In this case, the channel sequences are generated until the end of
the trajectory.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">ChanSeqGen</span></code>, a generator object that is used to generate sequences of channel matrices.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Antenna.html" class="btn btn-neutral float-left" title="Antenna" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Random.html" class="btn btn-neutral float-right" title="Random Number Generator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, InterDigital, Inc. All Rights Reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>