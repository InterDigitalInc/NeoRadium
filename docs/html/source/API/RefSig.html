

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reference Signals &mdash; NeoRadium 0.4.0 Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/neoradium.css?v=45ad03f8" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=6c02275b"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Physical Channels" href="PhyChannels.html" />
    <link rel="prev" title="Modulation" href="Modulation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            NeoRadium 0.4.0
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">What is NeoRadium?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Playground/Playground.html">Playground</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Carrier.html">Carriers and Bandwidth Parts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Grid.html">Resource Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="Waveform.html">Waveform</a></li>
<li class="toctree-l1"><a class="reference internal" href="Modulation.html">Modulation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reference Signals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-neoradium.csirs">CSI-RS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.csirs.CsiRs"><code class="docutils literal notranslate"><span class="pre">CsiRs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.csirs.CsiRs.print"><code class="docutils literal notranslate"><span class="pre">CsiRs.print()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.csirs.CsiRsSet"><code class="docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.csirs.CsiRsSet.print"><code class="docutils literal notranslate"><span class="pre">CsiRsSet.print()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.csirs.CsiRsSet.addCsiRs"><code class="docutils literal notranslate"><span class="pre">CsiRsSet.addCsiRs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.csirs.CsiRsConfig"><code class="docutils literal notranslate"><span class="pre">CsiRsConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.csirs.CsiRsConfig.print"><code class="docutils literal notranslate"><span class="pre">CsiRsConfig.print()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.csirs.CsiRsConfig.addCsiResourceSets"><code class="docutils literal notranslate"><span class="pre">CsiRsConfig.addCsiResourceSets()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.csirs.CsiRsConfig.addCsiRs"><code class="docutils literal notranslate"><span class="pre">CsiRsConfig.addCsiRs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.csirs.CsiRsConfig.populateGrid"><code class="docutils literal notranslate"><span class="pre">CsiRsConfig.populateGrid()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-neoradium.dmrs">DMRS and PTRS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.dmrs.DMRS"><code class="docutils literal notranslate"><span class="pre">DMRS</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.dmrs.DMRS.print"><code class="docutils literal notranslate"><span class="pre">DMRS.print()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.dmrs.DMRS.setPTRS"><code class="docutils literal notranslate"><span class="pre">DMRS.setPTRS()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.dmrs.DMRS.populateGrid"><code class="docutils literal notranslate"><span class="pre">DMRS.populateGrid()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#neoradium.dmrs.PTRS"><code class="docutils literal notranslate"><span class="pre">PTRS</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.dmrs.PTRS.print"><code class="docutils literal notranslate"><span class="pre">PTRS.print()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#neoradium.dmrs.PTRS.populateGrid"><code class="docutils literal notranslate"><span class="pre">PTRS.populateGrid()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="PhyChannels.html">Physical Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChanCode.html">Channel Coding</a></li>
<li class="toctree-l1"><a class="reference internal" href="Harq.html">HARQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Antenna.html">Antenna</a></li>
<li class="toctree-l1"><a class="reference internal" href="Channels.html">Channel Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Random.html">Random Number Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="DeepMIMO.html">DeepMIMO and UE Trajectories</a></li>
<li class="toctree-l1"><a class="reference internal" href="SnrHelper.html">SnrScheduler</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">NeoRadium 0.4.0</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Reference Signals</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/source/API/RefSig.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="reference-signals">
<h1>Reference Signals<a class="headerlink" href="#reference-signals" title="Link to this heading"></a></h1>
<section id="module-neoradium.csirs">
<span id="csi-rs"></span><h2>CSI-RS<a class="headerlink" href="#module-neoradium.csirs" title="Link to this heading"></a></h2>
<p>The module <code class="docutils literal notranslate"><span class="pre">csirs.py</span></code> implements the Channel State Information Reference Signals (CSI-RS) based on <strong>3GPP TS 38.211</strong>
and <strong>3GPP TS 38.214</strong>. CSI-RS is implemented in <strong>NeoRadium</strong> in the following 3 classes:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a>: Implements one CSI-RS resource which can be used for both Zero-Power (ZP) and Non-Zero-Power
(NZP) resources.</p></li>
<li><p><a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a>: Implements a CSI-RS Resource Set which contains one or more CSI-RS resources.</p></li>
<li><p><a class="reference internal" href="#neoradium.csirs.CsiRsConfig" title="neoradium.csirs.CsiRsConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsConfig</span></code></a>: Implements the overall CSI-RS configuration information. It contains one or more CSI-RS
resource sets.</p></li>
</ul>
</div></blockquote>
<p><strong>NeoRadium</strong>’s API implementation provides both flexibility and simplicity. Here are a couple of different ways to
configure CSI-RS.</p>
<p><strong>Flexible Configuration:</strong>
This method provides the most flexibility in configuration. Different numbers and types of CSI-RS resources can be
configured in different numbers and types of CSI-RS resource sets. For example, the following code configures two
CSI-RS resource sets, one ZP and one NZP, with one and two CSI-RS resources, respectively. Each CSI-RS resource is
configured individually with different settings.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">An example of flexibility in CSI-RS configuration</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">neoradium</span><span class="w"> </span><span class="kn">import</span> <span class="n">Carrier</span><span class="p">,</span> <span class="n">CsiRsConfig</span><span class="p">,</span> <span class="n">CsiRsSet</span><span class="p">,</span> <span class="n">CsiRs</span>

<span class="c1"># Create the carrier and bandwidth part objects</span>
<span class="n">carrier</span> <span class="o">=</span> <span class="n">Carrier</span><span class="p">(</span><span class="n">startRb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">numRbs</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">bwp</span> <span class="o">=</span> <span class="n">carrier</span><span class="o">.</span><span class="n">bwps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Create a ZP CSI-RS resource and add it to the ZP CSI-RS resource set</span>
<span class="n">zpCsiRs</span> <span class="o">=</span> <span class="n">CsiRs</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">symbols</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">numPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">freqMap</span><span class="o">=</span><span class="s2">&quot;1000&quot;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">zpCsiRsSet</span> <span class="o">=</span> <span class="n">CsiRsSet</span><span class="p">(</span><span class="s2">&quot;ZP&quot;</span><span class="p">,</span> <span class="n">bwp</span><span class="p">,</span> <span class="n">csiRsList</span><span class="o">=</span><span class="p">[</span><span class="n">zpCsiRs</span><span class="p">],</span> <span class="n">resourceType</span><span class="o">=</span><span class="s1">&#39;semiPersistent&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Create two NZP CSI-RS resources and add them to the NZP CSI-RS resource set</span>
<span class="n">nzpCsiRs1</span> <span class="o">=</span> <span class="n">CsiRs</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">symbols</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">numPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">freqMap</span><span class="o">=</span><span class="s2">&quot;000000001000&quot;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">nzpCsiRs2</span> <span class="o">=</span> <span class="n">CsiRs</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">symbols</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">numPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">freqMap</span><span class="o">=</span><span class="s2">&quot;1000&quot;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">nzpCsiRsSet</span> <span class="o">=</span> <span class="n">CsiRsSet</span><span class="p">(</span><span class="s2">&quot;NZP&quot;</span><span class="p">,</span> <span class="n">bwp</span><span class="p">,</span> <span class="n">csiRsList</span><span class="o">=</span><span class="p">[</span><span class="n">nzpCsiRs1</span><span class="p">,</span> <span class="n">nzpCsiRs2</span><span class="p">],</span> <span class="n">resourceType</span><span class="o">=</span><span class="s1">&#39;periodic&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Now create the CSI-RS configuration using the ZP and NZP resource sets</span>
<span class="n">csiRsConfig</span> <span class="o">=</span> <span class="n">CsiRsConfig</span><span class="p">([</span><span class="n">zpCsiRsSet</span><span class="p">,</span> <span class="n">nzpCsiRsSet</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p><strong>Easy and simple configuration:</strong>
You can quickly create a typical CSI-RS configuration without dealing with the complexity of various CSI-RS
configuration parameters. For example, the following code configures CSI-RS with one NZP and one ZP resource.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">An example of simplicity in CSI-RS configuration</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">neoradium</span><span class="w"> </span><span class="kn">import</span> <span class="n">Carrier</span><span class="p">,</span> <span class="n">CsiRsConfig</span><span class="p">,</span> <span class="n">CsiRsSet</span><span class="p">,</span> <span class="n">CsiRs</span>

<span class="c1"># Create the carrier and bandwidth part objects</span>
<span class="n">carrier</span> <span class="o">=</span> <span class="n">Carrier</span><span class="p">(</span><span class="n">startRb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">numRbs</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">bwp</span> <span class="o">=</span> <span class="n">carrier</span><span class="o">.</span><span class="n">bwps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Create the CSI-RS configuration with a single call. The CSI-RS resource and</span>
<span class="c1"># resource set are automatically configured using the parameters provided.</span>
<span class="n">csiRsConfig</span> <span class="o">=</span> <span class="n">CsiRsConfig</span><span class="p">(</span><span class="n">csiType</span><span class="o">=</span><span class="s2">&quot;NZP&quot;</span><span class="p">,</span> <span class="n">bwp</span><span class="o">=</span><span class="n">bwp</span><span class="p">,</span> <span class="n">symbols</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">numPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">freqMap</span><span class="o">=</span><span class="s2">&quot;000000001000&quot;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>For more examples, see <a class="reference internal" href="../Playground/Notebooks/CSI-RS/CSI-RS.html"><span class="doc">Channel State Information Reference Signals (CSI-RS) Configuration</span></a></p>
<dl class="py class">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.csirs.</span></span><span class="sig-name descname"><span class="pre">CsiRs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRs" title="Link to this definition"></a></dt>
<dd><p>This class implements a CSI-RS resource which can be used to represent a Zero-Power (ZP - see <strong>3GPP TS 38.214
Section 5.1.4.2</strong>) or Non-Zero-Power (NZP - see <strong>3GPP TS 38.214 Section 5.2.2.3.1</strong>) resource.”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>dict</em>) – <p>A set of optional arguments.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">resourceId<span class="colon">:</span></dt>
<dd class="field-odd"><p>The resource identifier of this CSI-RS resource. This is set to zero by default. This
represents the values <code class="docutils literal notranslate"><span class="pre">zp-CSI-RS-ResourceId</span></code> or <code class="docutils literal notranslate"><span class="pre">nzp-CSI-RS-ResourceId</span></code> in <strong>3GPP TS 38.214</strong>
for ZP and NZP resource types, respectively.</p>
</dd>
<dt class="field-even">offset<span class="colon">:</span></dt>
<dd class="field-even"><p>The slot offset for this CSI-RS resource. It is set to zero by default. This is the value
<span class="math notranslate nohighlight">\(T_{offset}\)</span> in <strong>3GPP TS 38.211 section 7.4.1.5.3</strong>. It is only used if the <code class="docutils literal notranslate"><span class="pre">resourceType</span></code>
parameter of <a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a> class containing this CSI-RS resource is set to <code class="docutils literal notranslate"><span class="pre">'periodic'</span></code> or
<code class="docutils literal notranslate"><span class="pre">'semiPersistent'</span></code>. See <a class="reference internal" href="#timedomainconfig"><span class="std std-ref">Time-Domain Configuration</span></a> below for more
information.</p>
</dd>
<dt class="field-odd">numPorts<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of antenna ports used by this CSI-RS resource. It can be one of 1, 2, 4, 8, 12,
16, 24, or 32. This is the value <span class="math notranslate nohighlight">\(X\)</span> in <strong>3GPP TS 38.211 Table 7.4.1.5.3-1</strong>.</p>
</dd>
<dt class="field-even">cdmSize<span class="colon">:</span></dt>
<dd class="field-even"><p>The CDM size of this CSI-RS resource. It can be one of 1, 2, 4, or 8 corresponding to
<code class="docutils literal notranslate"><span class="pre">noCDM</span></code>, <code class="docutils literal notranslate"><span class="pre">fd-CDM2</span></code>, <code class="docutils literal notranslate"><span class="pre">cdm4-FD2-TD2</span></code>, and <code class="docutils literal notranslate"><span class="pre">cdm8-FD2-TD4</span></code> in <strong>3GPP TS 38.211
Table 7.4.1.5.3-1</strong>.</p>
</dd>
<dt class="field-odd">density<span class="colon">:</span></dt>
<dd class="field-odd"><p>The frequency density of the CSI-RS resource. It can be one of 0.5, 1, or 3. The value 3 is
only available if <code class="docutils literal notranslate"><span class="pre">numPorts</span></code> is set to 1. This is the value <span class="math notranslate nohighlight">\(\rho\)</span> in <strong>3GPP TS 38.211
Table 7.4.1.5.3-1</strong>.</p>
</dd>
<dt class="field-even">freqMap<span class="colon">:</span></dt>
<dd class="field-even"><p>A bitmap string that specifies the frequency-domain locations of this CSI-RS resource. See
<strong>3GPP TS 38.211 Section 7.4.1.5.3</strong> for more information. This value determines which resource
elements in each resource block are used by this CSI-RS resource.</p>
</dd>
<dt class="field-odd">symbols<span class="colon">:</span></dt>
<dd class="field-odd"><p>The list of time symbol indices in each slot that are used by this CSI-RS resource.</p>
</dd>
<dt class="field-even">powerDb<span class="colon">:</span></dt>
<dd class="field-even"><p>The power (in dB) used by this CSI-RS resource for the NZP resources. This is ignored
for Zero-Power (ZP) resources. The default value is 0. This contains the value of
<span class="math notranslate nohighlight">\(\beta_{CSIRS}\)</span> as specified in <strong>3GPP TS 38.211 Section 7.4.1.5.3</strong>.</p>
</dd>
<dt class="field-odd">scramblingID<span class="colon">:</span></dt>
<dd class="field-odd"><p>The scrambling identity which is used for generating pseudo-random sequences. The
default is 0. This is ignored for ZP resources.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
</dl>
<p><strong>Other Properties:</strong></p>
<p>All of the parameters mentioned above except <code class="docutils literal notranslate"><span class="pre">freqMap</span></code> and <code class="docutils literal notranslate"><span class="pre">symbols</span></code> are directly available. Here is a
list of additional properties:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">ls<span class="colon">:</span></dt>
<dd class="field-odd"><p>The time-domain symbol indices used by this CSI-RS resource. This is a list of integers that is
extracted from the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> parameter explained above. This list contains the <span class="math notranslate nohighlight">\(l_0\)</span> and
<span class="math notranslate nohighlight">\(l_1\)</span> values in the 5<sup>th</sup> column of <strong>3GPP TS 38.211 Table 7.4.1.5.3-1</strong> (The column
titled <span class="math notranslate nohighlight">\((\bar k, \bar l)\)</span>).</p>
</dd>
<dt class="field-even">ks<span class="colon">:</span></dt>
<dd class="field-even"><p>The frequency-domain RE indices used by this CSI-RS resource. This is a list of integers that is
extracted from the <code class="docutils literal notranslate"><span class="pre">freqMap</span></code> parameter explained above. This list contains the <span class="math notranslate nohighlight">\(k_0\)</span>,
<span class="math notranslate nohighlight">\(k_1\)</span>, <span class="math notranslate nohighlight">\(k_2\)</span>, and <span class="math notranslate nohighlight">\(k_3\)</span> values in the 5<sup>th</sup> column of <strong>3GPP TS 38.211
Table 7.4.1.5.3-1</strong> (The column titled <span class="math notranslate nohighlight">\((\bar k, \bar l)\)</span>).</p>
</dd>
<dt class="field-odd">row<span class="colon">:</span></dt>
<dd class="field-odd"><p>The row index of <strong>3GPP TS 38.211 Table 7.4.1.5.3-1</strong> corresponding to the configuration of this
CSI-RS resource (The column titled “Row”). This class determines the row index using the parameters
<code class="docutils literal notranslate"><span class="pre">numPorts</span></code>, <code class="docutils literal notranslate"><span class="pre">cdmSize</span></code>, <code class="docutils literal notranslate"><span class="pre">density</span></code>, and <code class="docutils literal notranslate"><span class="pre">freqMap</span></code>.</p>
</dd>
<dt class="field-even">mySet<span class="colon">:</span></dt>
<dd class="field-even"><p>The <a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a> object containing this CSI-RS resource.</p>
</dd>
</dl>
</div></blockquote>
<p>Additionally you can access the <a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a> class parameters <code class="docutils literal notranslate"><span class="pre">period</span></code>, <code class="docutils literal notranslate"><span class="pre">bwp</span></code>, <code class="docutils literal notranslate"><span class="pre">csiType</span></code>,
<code class="docutils literal notranslate"><span class="pre">resourceType</span></code>, <code class="docutils literal notranslate"><span class="pre">active</span></code>, <code class="docutils literal notranslate"><span class="pre">startRb</span></code>, and <code class="docutils literal notranslate"><span class="pre">numRbs</span></code> directly. The parameter <code class="docutils literal notranslate"><span class="pre">mySet</span></code> is internally
used to return these values from the <a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a> class containing this CSI-RS resource.</p>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRs.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRs.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this CSI-RS resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> or </em><em>None</em>) – If specified, it is used as a title for the printed information. If <cite>None</cite> (default), the text
“CSI-RS Properties:” is used for the title.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <cite>True</cite>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <cite>True</cite>, then this function returns the information in a text string.
Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRsSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.csirs.</span></span><span class="sig-name descname"><span class="pre">CsiRsSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csiType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bwp</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRsSet" title="Link to this definition"></a></dt>
<dd><p>This class implements a CSI-RS resource set which contains one or more CSI-RS resources (<a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a>
objects). A CSI-RS resource set can be either Zero-Power (ZP) or Non-Zero-Power (NZP). All CSI-RS resources
in a set are of the same type (ZP or NZP). By default, a CSI-RS resource set is configured with one CSI-RS resource.
More CSI-RS resources can be added using the <a class="reference internal" href="#neoradium.csirs.CsiRsSet.addCsiRs" title="neoradium.csirs.CsiRsSet.addCsiRs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addCsiRs()</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csiType</strong> (<em>str</em>) – The type of this CSI-RS resource set. It <strong>must</strong> be either <code class="docutils literal notranslate"><span class="pre">'NZP'</span></code> or <code class="docutils literal notranslate"><span class="pre">'ZP'</span></code>.</p></li>
<li><p><strong>bwp</strong> (<a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a>) – The bandwidth part used by this CSI-RS resource set.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>A set of optional arguments.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">rsId<span class="colon">:</span></dt>
<dd class="field-odd"><p>The resource set identifier of this CSI-RS resource set. This is set to zero by default. This
represents the values <code class="docutils literal notranslate"><span class="pre">nzp-CSI-ResourceSetId</span></code> or <code class="docutils literal notranslate"><span class="pre">zp-CSI-RS-ResourceSetId</span></code> in <strong>3GPP TS
38.214</strong> for NZP and ZP resource sets correspondingly.</p>
</dd>
<dt class="field-even">startRb<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of starting resource block (RB) used by this CSI-RS resource set. By default this
is set to <code class="docutils literal notranslate"><span class="pre">bwp.startRb</span></code>. The resources specified by <code class="docutils literal notranslate"><span class="pre">startRb</span></code> and <code class="docutils literal notranslate"><span class="pre">numPorts</span></code> <strong>must</strong> be
inside the specified bandwidth part <code class="docutils literal notranslate"><span class="pre">bwp</span></code>.</p>
</dd>
<dt class="field-odd">numRbs<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of resource blocks used by this CSI-RS resource set starting at <code class="docutils literal notranslate"><span class="pre">startRb</span></code>. By
default this is set to <code class="docutils literal notranslate"><span class="pre">bwp.numRbs</span></code>. The resources specified by <code class="docutils literal notranslate"><span class="pre">startRb</span></code> and <code class="docutils literal notranslate"><span class="pre">numPorts</span></code>
<strong>must</strong> be inside the specified bandwidth part <code class="docutils literal notranslate"><span class="pre">bwp</span></code>.</p>
</dd>
<dt class="field-even">resourceType<span class="colon">:</span></dt>
<dd class="field-even"><p>The time-domain resource type of this CSI-RS resource set. It can be one of
<code class="docutils literal notranslate"><span class="pre">'aperiodic'</span></code>, <code class="docutils literal notranslate"><span class="pre">'semiPersistent'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'periodic'</span></code> (default). See <a class="reference internal" href="#timedomainconfig"><span class="std std-ref">Time-Domain
Configuration</span></a> below for more information.</p>
</dd>
<dt class="field-odd">period<span class="colon">:</span></dt>
<dd class="field-odd"><p>The period (in number of slots) of this CSI-RS resource set in time domain. This is the value <span class="math notranslate nohighlight">\(T_{CSI-RS}\)</span> in <strong>3GPP TS 38.211 section 7.4.1.5.3</strong>. By default, it is set to 4 which means
CSI-RS is transmitted every 4<sup>th</sup> slot (for example slots numbers 0, 4, 8, …). The
<code class="docutils literal notranslate"><span class="pre">period</span></code> can be 4, 5, 8, 10, 16, 20, 32, 40, 64, 80, 160, 320, or 640 slots. This parameter is
ignored if <code class="docutils literal notranslate"><span class="pre">resourceType</span></code> is set to <code class="docutils literal notranslate"><span class="pre">'aperiodic'</span></code>. See
<a class="reference internal" href="#timedomainconfig"><span class="std std-ref">Time-Domain Configuration</span></a> below for more information.</p>
</dd>
<dt class="field-even">active<span class="colon">:</span></dt>
<dd class="field-even"><p>This boolean flag is used to <em>trigger</em> an <code class="docutils literal notranslate"><span class="pre">'aperiodic'</span></code> or <em>activate</em> a <code class="docutils literal notranslate"><span class="pre">'semiPersistent'</span></code>
CSI-RS resource set. It is ignored if <code class="docutils literal notranslate"><span class="pre">resourceType</span></code> is set to <code class="docutils literal notranslate"><span class="pre">'periodic'</span></code>. This is set to
<cite>True</cite> by default. See <a class="reference internal" href="#timedomainconfig"><span class="std std-ref">Time-Domain Configuration</span></a> below for more
information.</p>
</dd>
<dt class="field-odd">csiRsList<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of <a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a> objects contained in this CSI-RS resource set. If not
specified, this class creates a single CSI-RS resource and puts it in the list. More
<a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a> objects can be added using the <a class="reference internal" href="#neoradium.csirs.CsiRsSet.addCsiRs" title="neoradium.csirs.CsiRsSet.addCsiRs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addCsiRs()</span></code></a> method.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<p><strong>Other Properties:</strong></p>
<p>All of the parameters mentioned above are directly available. Here is a list of additional properties:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">numPorts<span class="colon">:</span></dt>
<dd class="field-odd"><p>This read-only parameter returns the maximum number of ports of all CSI-RS resources in this
CSI-RS resource set.</p>
</dd>
</dl>
</div></blockquote>
<p id="timedomainconfig"><strong>Time-Domain Configuration:</strong></p>
<p>In time-Domain, CSI-RS can be configured for <em>periodic</em>, <em>semi-persistent</em>, or <em>aperiodic</em> transmission.</p>
<dl class="field-list">
<dt class="field-odd">Periodic<span class="colon">:</span></dt>
<dd class="field-odd"><p>In this case, the CSI-RS transmission occurs every N<sup>th</sup> slot, where N ranges from 4 to
640. In this case, each CSI-RS resource is also configured with an <code class="docutils literal notranslate"><span class="pre">offset</span></code> value. Please note that
while the <code class="docutils literal notranslate"><span class="pre">period</span></code> N is the same for all CSI-RS resources in a set, the <code class="docutils literal notranslate"><span class="pre">offset</span></code> can be different for
different CSI-RS resources in the set. That is why the <code class="docutils literal notranslate"><span class="pre">period</span></code> is a property if the CSI-RS resource
set while <code class="docutils literal notranslate"><span class="pre">offset</span></code> is a property of CSI-RS resource.</p>
<figure class="align-center" id="id5" style="width: 600px">
<img alt="../../_images/CSI-RS-Timing.png" src="../../_images/CSI-RS-Timing.png" />
<figcaption>
<p><span class="caption-text">The time-domain <code class="docutils literal notranslate"><span class="pre">period</span></code> and <code class="docutils literal notranslate"><span class="pre">offset</span></code> examples <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</dd>
<dt class="field-even">Semi-persistent<span class="colon">:</span></dt>
<dd class="field-even"><p>In this case, the periodicity and offset of the CSI-RS transmissions is configured similar
to the <em>periodic</em> case but the actual transmission can be disabled/enabled using the <code class="docutils literal notranslate"><span class="pre">active</span></code> flag
defined above. Once <em>activated</em>, the CSI-RS transmission behavior is just like the <em>periodic</em> case until
it is <em>deactivated</em>. All CSI-RS resources in the set are activated/deactivated together. (The <code class="docutils literal notranslate"><span class="pre">active</span></code>
flag is a property of CSI-RS resource set)</p>
</dd>
<dt class="field-odd">Aperiodic<span class="colon">:</span></dt>
<dd class="field-odd"><p>In this case, there is no periodicity. The transmission of the CSI-RS can be <em>triggered</em> by
setting the <code class="docutils literal notranslate"><span class="pre">active</span></code> flag to <cite>True</cite>. In practice this is signaled in the DCI message. All CSI-RS
resources in the set are <em>triggered</em> together. (The <code class="docutils literal notranslate"><span class="pre">active</span></code> flag is a property of CSI-RS resource set)</p>
</dd>
</dl>
<p>Please refer to <strong>3GPP TS 38.211 section 7.4.1.5.3</strong> for more details. See also
<a class="reference internal" href="../Playground/Notebooks/CSI-RS/CSI-RS-Time.html"><span class="doc">CSI-RS timing configurations</span></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRsSet.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRsSet.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this CSI-RS resource set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> or </em><em>None</em>) – If specified, it is used as a title for the printed information. If <cite>None</cite> (default), the text
“CSI-RS Resource Set Properties:” is used for the title.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <cite>True</cite>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <cite>True</cite>, then this function returns the information in a text string.
Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRsSet.addCsiRs">
<span class="sig-name descname"><span class="pre">addCsiRs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csiRsList</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRsSet.addCsiRs" title="Link to this definition"></a></dt>
<dd><p>Adds one or more CSI-RS resources to this CSI-RS resource set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>csiRsList</strong> (<em>list</em>) – A list of <a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a> objects to be added to this CSI-RS resource set.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRsConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.csirs.</span></span><span class="sig-name descname"><span class="pre">CsiRsConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csiRsSetList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRsConfig" title="Link to this definition"></a></dt>
<dd><p>This class implements the overall CSI-RS configuration. It keeps a list of CSI-RS resource sets
(<a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a> objects) each of which contains one or more CSI-RS resources (<a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a> objects). By
default, this class creates a single CSI-RS resource set. More CSI-RS resource sets can be added using the
<a class="reference internal" href="#neoradium.csirs.CsiRsConfig.addCsiResourceSets" title="neoradium.csirs.CsiRsConfig.addCsiResourceSets"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addCsiResourceSets()</span></code></a> method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csiRsSetList</strong> (<em>list</em>) – <p>A list of <a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a> objects contained in this CSI-RS configuration. If this list is not
specified, but a <a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a> object is specified in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> this class
creates a single CSI-RS resource set containing a single CSI-RS resource. The parameters passed in
<code class="docutils literal notranslate"><span class="pre">kwargs</span></code> are used to initialize the CSI-RS resource set and its only CSI-RS resource.</p>
<p>If this list is not specified, and a <a class="reference internal" href="Carrier.html#neoradium.carrier.BandwidthPart" title="neoradium.carrier.BandwidthPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">BandwidthPart</span></code></a> object is not given,
then the list of CSI-RS resource sets remains empty and you <strong>must</strong> use the <a class="reference internal" href="#neoradium.csirs.CsiRsConfig.addCsiResourceSets" title="neoradium.csirs.CsiRsConfig.addCsiResourceSets"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addCsiResourceSets()</span></code></a>
to add CSI-RS resource sets.</p>
</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – A set of optional arguments. These parameters are passed to the <a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a> and <a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a>
objects when they are created the first time.</p></li>
</ul>
</dd>
</dl>
<p><strong>Other Properties:</strong></p>
<p>All of the parameters mentioned above are directly available. Here is a list of additional properties:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">numPorts<span class="colon">:</span></dt>
<dd class="field-odd"><p>This read-only parameter returns the maximum number of ports in all CSI-RS resources in all
CSI-RS resource sets.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRsConfig.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRsConfig.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this CSI-RS Configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> or </em><em>None</em>) – If specified, it is used as a title for the printed information. If <cite>None</cite> (default), the text
“CSI-RS Configuration:” is used for the title.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <cite>True</cite>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <cite>True</cite>, then this function returns the information in a text string.
Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRsConfig.addCsiResourceSets">
<span class="sig-name descname"><span class="pre">addCsiResourceSets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csiRsSetList</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRsConfig.addCsiResourceSets" title="Link to this definition"></a></dt>
<dd><p>Adds one or more CSI-RS resource sets to this CSI-RS configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>csiRsSetList</strong> (<em>list</em>) – A list of <a class="reference internal" href="#neoradium.csirs.CsiRsSet" title="neoradium.csirs.CsiRsSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRsSet</span></code></a> objects to be added to this CSI-RS configuration.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRsConfig.addCsiRs">
<span class="sig-name descname"><span class="pre">addCsiRs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setIndex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csiRs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRsConfig.addCsiRs" title="Link to this definition"></a></dt>
<dd><p>Adds the CSI-RS resource given in <code class="docutils literal notranslate"><span class="pre">csiRs</span></code> to the CSI-RS resource set specified by <code class="docutils literal notranslate"><span class="pre">setIndex</span></code> in this
CSI-RS configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>setIndex</strong> (<em>int</em>) – The index of CSI-RS resource set in this CSI-RS configuration that receives the new CSI-RS resource.</p></li>
<li><p><strong>csiRs</strong> (<a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a>) – If specified, the <a class="reference internal" href="#neoradium.csirs.CsiRs" title="neoradium.csirs.CsiRs"><code class="xref py py-class docutils literal notranslate"><span class="pre">CsiRs</span></code></a> object is added to the CSI-RS resource set specified by <code class="docutils literal notranslate"><span class="pre">setIndex</span></code>.
Otherwise, a new CSI-RS resource object is created based on the information in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> and then it is
added to the CSI-RS resource set specified by <code class="docutils literal notranslate"><span class="pre">setIndex</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>These parameters are only used if this CSI-RS configuration is empty and/or if <code class="docutils literal notranslate"><span class="pre">csiRs=None</span></code>.</p>
<p>If this CSI-RS configuration is empty, the information in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is first used to create a CSI-RS
resource set.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">csiRs</span></code> is not specified, then the information in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is first used to create a CSI-RS
resource and add to the specified CSI-RS resource set.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.csirs.CsiRsConfig.populateGrid">
<span class="sig-name descname"><span class="pre">populateGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.csirs.CsiRsConfig.populateGrid" title="Link to this definition"></a></dt>
<dd><p>Uses the information in this CSI-RS configuration to calculate reference signal values and updates the
<a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> object specified by <code class="docutils literal notranslate"><span class="pre">grid</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>grid</strong> (<a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>) – The <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> object that gets populated with CSI-RS based on this CSI-RS
configuration.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="module-neoradium.dmrs">
<span id="dmrs-and-ptrs"></span><h2>DMRS and PTRS<a class="headerlink" href="#module-neoradium.dmrs" title="Link to this heading"></a></h2>
<p>The module <code class="docutils literal notranslate"><span class="pre">dmrs.py</span></code> implements the <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> and <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> classes which encapsulate the Demodulation
Reference Signals (DMRS) and the Phase-Tracking Reference Signals (PTRS) respectively.</p>
<p>Demodulation reference signals are intended for channel estimation on the receiver side and enable coherent
demodulation. They are used with all types of communication channels for both data and control, and downlink and
uplink. This means a <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> object can be associated with <a class="reference internal" href="PhyChannels.html#neoradium.pdsch.PDSCH" title="neoradium.pdsch.PDSCH"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code></a>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">PDCCH</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">PUSCH</span></code>, or <code class="xref py py-class docutils literal notranslate"><span class="pre">PUCCH</span></code> classes.</p>
<p><a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> is used for tracking the phase of the local oscillators at the receiver and transmitter. If
transmitted, a PTRS is always associated with one DMRS port.</p>
<dl class="py class">
<dt class="sig sig-object py" id="neoradium.dmrs.DMRS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.dmrs.</span></span><span class="sig-name descname"><span class="pre">DMRS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pxxch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.dmrs.DMRS" title="Link to this definition"></a></dt>
<dd><p>This class encapsulates the configuration and functionality of Demodulation Reference Signals. A <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a>
object can be associated with a <a class="reference internal" href="PhyChannels.html#neoradium.pdsch.PDSCH" title="neoradium.pdsch.PDSCH"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code></a>, a <code class="xref py py-class docutils literal notranslate"><span class="pre">PDCCH</span></code>, a
<code class="xref py py-class docutils literal notranslate"><span class="pre">PUSCH</span></code>, or a <code class="xref py py-class docutils literal notranslate"><span class="pre">PUCCH</span></code>. (Currently only
<a class="reference internal" href="PhyChannels.html#neoradium.pdsch.PDSCH" title="neoradium.pdsch.PDSCH"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code></a> is implemented in <strong>NeoRadium</strong>. Support for other channels is coming soon.)</p>
<p>For every PDSCH, at least one DMRS OFDM symbol is mandatory. It is also possible to have one, two, or three
additional OFDM symbols assigned to DMRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pxxch</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code> object associated with this <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> object. Technically
this can be any of <a class="reference internal" href="PhyChannels.html#neoradium.pdsch.PDSCH" title="neoradium.pdsch.PDSCH"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">PDCCH</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">PUSCH</span></code>, or <code class="xref py py-class docutils literal notranslate"><span class="pre">PUCCH</span></code> classes, but currently only
<a class="reference internal" href="PhyChannels.html#neoradium.pdsch.PDSCH" title="neoradium.pdsch.PDSCH"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code></a> is implemented in <strong>NeoRadium</strong>.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>A set of optional arguments.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">configType<span class="colon">:</span></dt>
<dd class="field-odd"><p>The DMRS configuration type. It can be either 1 (default) or 2. In Configuration type 1,
the minimum resource element group in frequency domain is one RE. In Configuration type 2, the
minimum resource element group in frequency domain is two consecutive REs.</p>
</dd>
<dt class="field-even">enhanced<span class="colon">:</span></dt>
<dd class="field-even"><p>This boolean parameter indicates whether the enhanced DMRS, as introduced in 3GPP release 18,
should be used. This parameter is equivalent to the <code class="docutils literal notranslate"><span class="pre">enhanced-dmrs-Type</span></code> as explained in
<strong>3GPP TS 38.211, section 7.4.1.1.2</strong>. The default value is <cite>False</cite>.</p>
</dd>
<dt class="field-odd">symbols<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of OFDM symbols used with each group of DMRS REs. It can be 1 (<em>Single</em>) or
2 (<em>Double</em>). The default is <em>Single</em>.</p>
</dd>
<dt class="field-even">typeA1stPos<span class="colon">:</span></dt>
<dd class="field-even"><p>This is the OFDM symbol index for the first DMRS symbol when Mapping type A is being
used. It can be either 2 (default) or 3.</p>
</dd>
<dt class="field-odd">additionalPos<span class="colon">:</span></dt>
<dd class="field-odd"><p>Position(s) for additional DMRS symbols. For <code class="docutils literal notranslate"><span class="pre">symbols==1</span></code>,
it can be 0, 1, 2, or 3 and for <code class="docutils literal notranslate"><span class="pre">symbols==2</span></code> it can be 0 or 1. This allows up to 4 OFDM symbols
to be used for DMRS.</p>
</dd>
<dt class="field-even">portSet<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of port numbers used for DMRS allocation. See <strong>3GPP TS 38.211, Table 7.4.1.1.2-5</strong>
for more information. If not specified, it is set based on the number of layers in <code class="docutils literal notranslate"><span class="pre">pxxch</span></code>. If
specified, the number of items in the list should match the number of layers in <code class="docutils literal notranslate"><span class="pre">pxxch</span></code>.</p>
</dd>
<dt class="field-odd">otherCdmGroups<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of CDM groups used by other PXXCH objects (For example, in PDSCH, some CDM
groups may be used for other UEs). When allocating resources, this class makes sure that no data
is allocated in the CDM groups used for other UEs. See
<a class="reference internal" href="../Playground/Notebooks/DMRS/CDMsWithNoData.html"><span class="doc">Using otherCdmGroups parameter</span></a> for examples of how to use this parameter.</p>
</dd>
<dt class="field-even">scID<span class="colon">:</span></dt>
<dd class="field-even"><p>The number specifying which one of the <code class="docutils literal notranslate"><span class="pre">nIDs</span></code> (see below) should be used for scrambling. It
can be 0 (default) or 1.</p>
</dd>
<dt class="field-odd">nIDs<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of one or 2 integer values (<code class="docutils literal notranslate"><span class="pre">nIDs[scID]</span> <span class="pre">∈</span> <span class="pre">{0,1,...,65535},</span> <span class="pre">scID</span> <span class="pre">∈</span> <span class="pre">{0,1}</span></code>) The nIDs[0]
and nIDs[1] are explained in <strong>3GPP TS 38.211, Section 7.4.1.1.1</strong> (<em>scramblingID0</em>,
<em>scramblingID1</em>).</p>
</dd>
<dt class="field-even">sameSeq<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean value set to <cite>True</cite> by default. If <cite>True</cite>, the same binary sequence is created
for all CDM Groups. Otherwise the sequences for different CDM Groups are initialized differently.
This is related to the parameter setting <code class="docutils literal notranslate"><span class="pre">dmrs-Downlink</span></code> in <strong>3GPP TS 38.211,
Section 7.4.1.1.1</strong>. <code class="docutils literal notranslate"><span class="pre">sameSeq=True</span></code> means <code class="docutils literal notranslate"><span class="pre">dmrs-Downlink</span></code> is not provided.</p>
</dd>
<dt class="field-odd">epreRatioDb<span class="colon">:</span></dt>
<dd class="field-odd"><p>The ratio of PXXCH energy per resource element (EPRE) to DMRS EPRE in dB. If not
specified, <strong>3GPP TS 38.214, Table 4.1-1</strong> is used to set this parameter.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<p><strong>Other Properties:</strong></p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">cdmGroups<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of CDM groups used by this DMRS. This property is set based on the <code class="docutils literal notranslate"><span class="pre">portSet</span></code> and
<code class="docutils literal notranslate"><span class="pre">configType</span></code> parameters.</p>
</dd>
<dt class="field-even">symSet<span class="colon">:</span></dt>
<dd class="field-even"><p>A NumPy array containing the indices of the OFDM symbols used by this DMRS.</p>
</dd>
<dt class="field-odd">ptrs<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> object associated with this DMRS object or <cite>None</cite> if PTRS is not configured.</p>
</dd>
<dt class="field-even">ptrsEnabled<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean read-only property. If <cite>True</cite> it means PTRS is enabled, and therefore the <code class="docutils literal notranslate"><span class="pre">ptrs</span></code>
property above should not be <cite>None</cite>. Otherwise PTRS is disabled and the <code class="docutils literal notranslate"><span class="pre">ptrs</span></code> property above
should be set to <cite>None</cite>.</p>
</dd>
</dl>
</div></blockquote>
<p>The notebook <a class="reference internal" href="../Playground/Notebooks/DMRS/DMRS.html"><span class="doc">Configuring DMRS</span></a> shows some examples of configuring DMRS.</p>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.dmrs.DMRS.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DMRS</span> <span class="pre">Properties:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.dmrs.DMRS.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – If specified, it is used as a title for the printed information.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <cite>True</cite>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <cite>True</cite>, then this function returns the information in a text string.
Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.dmrs.DMRS.setPTRS">
<span class="sig-name descname"><span class="pre">setPTRS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.dmrs.DMRS.setPTRS" title="Link to this definition"></a></dt>
<dd><p>Creates a new <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> object based on the parameters given in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> and associates it with
this <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> object. For more information please refer to the <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> documentation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.dmrs.DMRS.populateGrid">
<span class="sig-name descname"><span class="pre">populateGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.dmrs.DMRS.populateGrid" title="Link to this definition"></a></dt>
<dd><p>Uses the information in this <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> to calculate Demodulation
Reference Signal values and update the <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>
object specified by <code class="docutils literal notranslate"><span class="pre">grid</span></code>.</p>
<p>If PTRS is enabled, it calls the <a class="reference internal" href="#neoradium.dmrs.PTRS.populateGrid" title="neoradium.dmrs.PTRS.populateGrid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">populateGrid()</span></code></a> method
of the <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> class to update the specified <code class="docutils literal notranslate"><span class="pre">grid</span></code> with Phase
Tracking Reference Signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>grid</strong> (<a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>) – The <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> object that gets populated with
the Demodulation Reference Signals.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="neoradium.dmrs.PTRS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neoradium.dmrs.</span></span><span class="sig-name descname"><span class="pre">PTRS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dmrs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.dmrs.PTRS" title="Link to this definition"></a></dt>
<dd><p>This class encapsulates the functionality of Phase Tracking Reference Signals (PTRS). A <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> object
can be associated with a <a class="reference internal" href="PhyChannels.html#neoradium.pdsch.PDSCH" title="neoradium.pdsch.PDSCH"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code></a> or a <code class="xref py py-class docutils literal notranslate"><span class="pre">PUSCH</span></code>. (Currently
only <a class="reference internal" href="PhyChannels.html#neoradium.pdsch.PDSCH" title="neoradium.pdsch.PDSCH"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDSCH</span></code></a> is implemented in <strong>NeoRadium</strong>. Support for other channels is coming soon.)</p>
<p>The PTRS is used to track the phase of the local oscillators at the receiver and transmitter. This enables
suppression of phase noise and common phase error, particularly important at high carrier frequencies, such as
millimeter-wave bands. Because of the properties of phase noise, PTRS may have low density in the frequency domain
but high density in the time domain.. If transmitted, PTRS is always associated with one DMRS port.</p>
<p>This implementation is mostly based on <strong>3GPP TS 38.211, Section 7.4.1.2</strong> and <strong>3GPP TS 38.214, Section 5.1.6.3</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dmrs</strong> (<a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a>) – The <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> object associated with this <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a>.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>A set of optional arguments.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">mcsi<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of 3 values for <code class="docutils literal notranslate"><span class="pre">ptrs-MCS1</span></code>, <code class="docutils literal notranslate"><span class="pre">ptrs-MCS2</span></code>, and <code class="docutils literal notranslate"><span class="pre">ptrs-MCS3</span></code> in <strong>3GPP TS 38.214,
table 5.1.6.3-1</strong> or <cite>None</cite> (default). This is used with <code class="docutils literal notranslate"><span class="pre">iMCS</span></code> and <code class="docutils literal notranslate"><span class="pre">nRBi</span></code> to determine time
and frequency density of the PTRS signals. See <a class="reference internal" href="#timefreqdensity"><span class="std std-ref">Specifying Time and Frequency
density</span></a> below for more information.</p>
</dd>
<dt class="field-even">iMCS<span class="colon">:</span></dt>
<dd class="field-even"><p>The value from <strong>3GPP TS 38.214 tables 5.1.3.1-1 to 5.1.3.1-4</strong> or <cite>None</cite> (default). This is
used with <code class="docutils literal notranslate"><span class="pre">mcsi</span></code> and <code class="docutils literal notranslate"><span class="pre">nRBi</span></code> to determine time and frequency density of the PTRS signals. See
<a class="reference internal" href="#timefreqdensity"><span class="std std-ref">Specifying Time and Frequency density</span></a> below for more information.</p>
</dd>
<dt class="field-odd">nRBi<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of 2 values for <code class="docutils literal notranslate"><span class="pre">nRB0</span></code> and <code class="docutils literal notranslate"><span class="pre">nRB1</span></code> in <strong>3GPP TS 38.214, table 5.1.6.3-2</strong> or
<cite>None</cite> (default). This is used with <code class="docutils literal notranslate"><span class="pre">mcsi</span></code> and <code class="docutils literal notranslate"><span class="pre">iMCS</span></code> to determine time and frequency
density of the PTRS signals. See <a class="reference internal" href="#timefreqdensity"><span class="std std-ref">Specifying Time and Frequency density</span></a>
below for more information.</p>
</dd>
<dt class="field-even">timeDensity<span class="colon">:</span></dt>
<dd class="field-even"><p>The time density of the PTRS signals. It can be 1 (default), 2, or 4. This is ignored if
parameters <code class="docutils literal notranslate"><span class="pre">mcsi</span></code>, <code class="docutils literal notranslate"><span class="pre">iMCS</span></code>, and <code class="docutils literal notranslate"><span class="pre">nRBi</span></code> are all specified. See <a class="reference internal" href="#timefreqdensity"><span class="std std-ref">Specifying Time and
Frequency density</span></a> below for more information.</p>
</dd>
<dt class="field-odd">freqDensity<span class="colon">:</span></dt>
<dd class="field-odd"><p>The frequency density of the PTRS signals. It can be 2 (default) or 4. This is ignored if
parameters <code class="docutils literal notranslate"><span class="pre">mcsi</span></code>, <code class="docutils literal notranslate"><span class="pre">iMCS</span></code>, and <code class="docutils literal notranslate"><span class="pre">nRBi</span></code> are all specified. See <a class="reference internal" href="#timefreqdensity"><span class="std std-ref">Specifying Time and
Frequency density</span></a> below for more information.</p>
</dd>
<dt class="field-even">reOffset<span class="colon">:</span></dt>
<dd class="field-even"><p>The resource element (RE) offset. It can be one of 0 (default), 1, 2, or 3. This is the
<code class="docutils literal notranslate"><span class="pre">resourceElementOffset</span></code> value in <strong>3GPP TS 38.211, Table 6.4.1.2.2.1-1</strong>.</p>
</dd>
<dt class="field-odd">portSet<span class="colon">:</span></dt>
<dd class="field-odd"><p>The set of antenna ports associated with this PTRS. If not specified, the first port of the
associated <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> is used.</p>
</dd>
<dt class="field-even">epreRatio<span class="colon">:</span></dt>
<dd class="field-even"><p>The <code class="docutils literal notranslate"><span class="pre">epre-Ratio</span></code> value in <strong>3GPP TS 38.214, Table 4.1-2</strong>. It is used to determine the
ratio of PTRS energy per resource element (EPRE) to PDSCH EPRE in dB. It can be 0 (default) or 1.
See <strong>3GPP TS 38.214, Table 4.1-2</strong> for more information.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<p id="timefreqdensity"><strong>Specifying Time and Frequency density:</strong></p>
<blockquote>
<div><p>There are two ways to specify the time and frequency density of the PTRS signals.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">Using MCS Info<span class="colon">:</span></dt>
<dd class="field-odd"><p>In this method, all of the values <code class="docutils literal notranslate"><span class="pre">mcsi</span></code>, <code class="docutils literal notranslate"><span class="pre">iMCS</span></code>, and <code class="docutils literal notranslate"><span class="pre">nRBi</span></code> <strong>must</strong> be
specified. The values <code class="docutils literal notranslate"><span class="pre">timeDensity</span></code> and <code class="docutils literal notranslate"><span class="pre">freqDensity</span></code> are then derived from the provided MCS
information based on <strong>3GPP TS 38.214, Tables 5.1.6.3-1 and 5.1.6.3-2</strong>.</p>
</dd>
<dt class="field-even">Direct Setting<span class="colon">:</span></dt>
<dd class="field-even"><p>In this method, the values <code class="docutils literal notranslate"><span class="pre">timeDensity</span></code> and <code class="docutils literal notranslate"><span class="pre">freqDensity</span></code> are provided directly.
In this case, all of the values <code class="docutils literal notranslate"><span class="pre">mcsi</span></code>, <code class="docutils literal notranslate"><span class="pre">iMCS</span></code>, and <code class="docutils literal notranslate"><span class="pre">nRBi</span></code> must be set to <cite>None</cite> (default).</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<p><strong>Other Properties:</strong></p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">symSet<span class="colon">:</span></dt>
<dd class="field-odd"><p>A NumPy array containing the indices of the OFDM symbols used by this <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a>.</p>
</dd>
</dl>
</div></blockquote>
<p>The notebook <a class="reference internal" href="../Playground/Notebooks/DMRS/PTRS.html"><span class="doc">Configuring PTRS</span></a> shows some examples of configuring PTRS.</p>
<dl class="py method">
<dt class="sig sig-object py" id="neoradium.dmrs.PTRS.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PTRS</span> <span class="pre">Properties:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getStr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.dmrs.PTRS.print" title="Link to this definition"></a></dt>
<dd><p>Prints the properties of this <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> (<em>int</em>) – The number of indentation characters.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – If specified, it is used as a title for the printed information.</p></li>
<li><p><strong>getStr</strong> (<em>Boolean</em>) – If <cite>True</cite>, returns a text string instead of printing it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">getStr</span></code> parameter is <cite>True</cite>, then this function returns the information in a text string.
Otherwise, nothing is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="neoradium.dmrs.PTRS.populateGrid">
<span class="sig-name descname"><span class="pre">populateGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neoradium.dmrs.PTRS.populateGrid" title="Link to this definition"></a></dt>
<dd><p>Uses the information in this <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> object to calculate the Phase Tracking Reference Signal values
and update the <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> object specified by <code class="docutils literal notranslate"><span class="pre">grid</span></code>.</p>
<p>Normally you don’t need to call this function directly. Since every <a class="reference internal" href="#neoradium.dmrs.PTRS" title="neoradium.dmrs.PTRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">PTRS</span></code></a> object is associated
with a <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> object, this function is called automatically when the <a class="reference internal" href="#neoradium.dmrs.DMRS.populateGrid" title="neoradium.dmrs.DMRS.populateGrid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">populateGrid()</span></code></a>
method of the <a class="reference internal" href="#neoradium.dmrs.DMRS" title="neoradium.dmrs.DMRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DMRS</span></code></a> class is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>grid</strong> (<a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>) – The <a class="reference internal" href="Grid.html#neoradium.grid.Grid" title="neoradium.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> object that gets populated with the Phase Tracking Reference Signals.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<p><strong>References:</strong></p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>5G NR: The Next Generation Wireless Access Technology by Erik
Dahlman, Stefan Parkvall, and Johan Skold (Fig. 8.6)</p>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Modulation.html" class="btn btn-neutral float-left" title="Modulation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="PhyChannels.html" class="btn btn-neutral float-right" title="Physical Channels" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, InterDigital, Inc. All Rights Reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>